import e,{useState as t,useEffect as n,useMemo as r,useCallback as o,useContext as l,useRef as a}from"react";import i from"prop-types";import{Button as s,Card as c,CardBody as p,CardFooter as d,CardHeader as u,Dropdown as h,DropdownToggle as g,DropdownMenu as m,DropdownItem as y,Table as f,Row as b,Col as v,InputGroup as T,Input as N,Pagination as S,PaginationItem as C,PaginationLink as k,List as w,ListGroupItem as I,ListGroupItemHeading as E,ListGroupItemText as x,ListInlineItem as O,TabContent as P,TabPane as j,Nav as F,NavItem as L,NavLink as R,Navbar as D,NavbarBrand as z,NavbarToggler as A,NavbarText as M}from"reactstrap";import B from"classnames";import{jsxs as U,jsx as K,Fragment as _}from"react/jsx-runtime";import{useTable as G,useSortBy as q,useExpanded as H,usePagination as $,useResizeColumns as Y,useFlexLayout as J}from"react-table";import V from"react-select";import{Modifier as W,EditorState as Z,CompositeDecorator as X,ContentState as Q,convertFromRaw as ee,convertToRaw as te,RichUtils as ne,SelectionState as re,AtomicBlockUtils as oe,Editor as le}from"draft-js";import ae from"assets/img/default-avatar.png";function ie(){return ie=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ie.apply(this,arguments)}function se(e){if(null==e)throw new TypeError("Cannot destructure "+e)}function ce(e,t){if(null==e)return{};var n,r,o={},l=Object.keys(e);for(r=0;r<l.length;r++)t.indexOf(n=l[r])>=0||(o[n]=e[n]);return o}Object.assign({leftIcon:"",rightIcon:""},s.prototype.props);const pe=e=>/*#__PURE__*/U(s,ie({},e,{children:[e.leftIcon?/*#__PURE__*/K("i",{className:B(e.leftIcon,"me-2")}):null,e.children,e.rightIcon?/*#__PURE__*/K("i",{className:B(e.rightIcon,"ms-2")}):null]}));pe.propTypes=ie({leftIcon:i.string,rightIcon:i.string},s.propTypes&&s.propTypes),Object.assign({},c.prototype.props);const de=e=>/*#__PURE__*/K(c,ie({},e,{children:e.children}));de.propTypes=ie({},c.propTypes&&c.propTypes),Object.assign({},p.prototype.props);const ue=e=>/*#__PURE__*/K(p,ie({},e,{children:e.children}));ue.propTypes=ie({},p.propTypes&&p.propTypes),Object.assign({},d.prototype.props);const he=e=>/*#__PURE__*/K(d,ie({},e,{children:e.children}));he.propTypes=ie({},d.propTypes&&d.propTypes),Object.assign({},u.prototype.props);const ge=e=>/*#__PURE__*/K(u,ie({},e,{children:e.children}));ge.propTypes=ie({},u.propTypes&&u.propTypes),Object.assign({},h.prototype.props);const me=e=>{let t=ie({},(se(e),e));/*#__PURE__*/return K(h,ie({},t,{children:t.children}))};me.propTypes=ie({},h.propTypes&&h.propTypes);const ye=["caret"];Object.assign({startIcon:"",endIcon:"",caret:!0},g.prototype.props);const fe=e=>{let t=ce(e,ye);/*#__PURE__*/return K(_,{children:/*#__PURE__*/U(g,ie({caret:!t.startIcon&&!t.endIcon&&t.caret},t,{children:[t.startIcon&&/*#__PURE__*/K("i",{className:B(t.startIcon,"me-2")}),t.children,t.endIcon&&/*#__PURE__*/K("i",{className:B(t.endIcon,"ms-2")})]}))})};fe.propTypes=ie({startIcon:i.string,endIcon:i.string,caret:i.bool},g.propTypes&&g.propTypes),Object.assign({},m.prototype.props);const be=e=>{let t=ie({},(se(e),e));/*#__PURE__*/return K(m,ie({},t,{children:t.children}))};be.propTypes=ie({},m.propTypes&&m.propTypes);const ve=["leftIcon","rightIcon","leftIconStyle","rightIconStyle"];Object.assign({},y.prototype.props);const Te=e=>{let{leftIcon:t="",rightIcon:n="",leftIconStyle:r="text-secondary",rightIconStyle:o="text-secondary"}=e,l=ce(e,ve);/*#__PURE__*/return U(y,ie({},l,{className:"d-flex justify-content-between align-items-center",children:[/*#__PURE__*/U("span",{children:[t&&/*#__PURE__*/K("i",{className:`${t} ${r} me-2`}),l.children]}),n&&/*#__PURE__*/K("i",{className:`${n} ${o}`})]}))};Te.propTypes=ie({},y.propTypes&&y.propTypes);const Ne=e=>/*#__PURE__*/U(f,{striped:!0,hover:!0,children:[/*#__PURE__*/K("thead",{children:/*#__PURE__*/K("tr",{children:e.thead.map((t,n)=>/*#__PURE__*/K("th",{className:B("",{"text-right":e.thead.length-1===n}),children:t.text},n))})}),/*#__PURE__*/K("tbody",{children:e.tbody.map((e,t)=>/*#__PURE__*/U("tr",{className:B({[e.className]:void 0!==e.className}),children:[e.data.map((e,t)=>/*#__PURE__*/K("td",{className:B({[e.className]:void 0!==e.className}),children:e.item},t)),e.actions&&/*#__PURE__*/K("td",{className:"text-right",children:e.actions})]},t))})]});Ne.propTypes={thead:i.arrayOf(i.shape({className:i.string,text:i.string.isRequired})).isRequired,tbody:i.arrayOf(i.shape({className:i.string,data:i.arrayOf(i.shape({className:i.string,item:i.oneOfType([i.string,i.number,i.node]).isRequired})).isRequired,actions:i.node})).isRequired};const Se=({onFilter:r=(()=>{}),onSearch:o=(()=>{}),filters:l=[]})=>{let[a,i]=e.useState("");const s=function(e,r){const[o,l]=t(e);return n(()=>{const t=setTimeout(()=>{l(e)},500);return()=>{clearTimeout(t)}},[e,500]),o}(a);return e.useEffect(()=>{o({value:{clientSearch:s}})},[s]),/*#__PURE__*/U(b,{children:[/*#__PURE__*/K(v,{md:"3",children:/*#__PURE__*/K(V,{className:"react-select default m-0 w-100",classNamePrefix:"react-select",name:"singleSelect",onChange:e=>{r(e)},defaultValue:l.find(e=>e.default),options:l,placeholder:"Select filter"})}),/*#__PURE__*/K(v,{md:"6",children:/*#__PURE__*/K(T,{children:/*#__PURE__*/K(N,{onChange:e=>i(e.currentTarget.value.toString()),placeholder:"Search item"})})})]})},Ce="...",ke=(e,t)=>Array.from({length:t-e+1},(t,n)=>n+e),we=e=>{const{onPageChange:t=(()=>{}),totalCount:n=0,siblingCount:o=1,currentPage:l=1,pageSize:a=10}=e,i=(({totalCount:e,pageSize:t,siblingCount:n=1,currentPage:o})=>r(()=>{const r=Math.ceil(e/t);if(n+5>=r)return ke(1,r);const l=Math.max(o-n,1),a=Math.min(o+n,r),i=l>2,s=a<r-2,c=r;if(!i&&s)return[...ke(1,3+2*n),Ce,r];if(i&&!s){let e=ke(r-(3+2*n)+1,r);return[1,Ce,...e]}if(i&&s){let e=ke(l,a);return[1,Ce,...e,Ce,c]}},[e,t,n,o]))({currentPage:l,totalCount:n,siblingCount:o,pageSize:a});if(0===l||i.length<2)return null;let s=i[i.length-1];/*#__PURE__*/return K(_,{children:/*#__PURE__*/K("nav",{"aria-label":"Page navigation",children:/*#__PURE__*/U("ul",{className:"pagination",children:[/*#__PURE__*/K("li",{className:"page-item",children:/*#__PURE__*/U("button",{onClick:()=>{t&&t(l-1)},className:"page-link","aria-label":"Next",children:[/*#__PURE__*/K("span",{"aria-hidden":"true",children:"«"}),/*#__PURE__*/K("span",{className:"sr-only",children:"Previous"})]})},"first-button"),i.map((e,n)=>e===Ce?/*#__PURE__*/K("li",{className:"pagination-item dots",children:"…"},Ce+n):/*#__PURE__*/K("li",{className:`page-item ${l===e&&" active"}`,children:/*#__PURE__*/K("button",{className:"page-link",onClick:()=>t(e),children:e})},e)),/*#__PURE__*/K("li",{className:"page-item",children:/*#__PURE__*/U("button",{disabled:l===s,className:"page-link",onClick:()=>{t&&t(l+1)},"aria-label":"Next",children:[/*#__PURE__*/K("span",{"aria-hidden":"true",children:"»"}),/*#__PURE__*/K("span",{className:"sr-only",children:"Next"})]})},"next-button")]})})})};function Ie({columns:t,data:n,renderRowSubComponent:r,className:o="-highlight -striped ",handleSearch:l=(()=>{}),handleFilter:a=(()=>{}),handlePagination:i=(()=>{}),filters:s=[],pagination:c={currentPage:1,hasNextPage:!0,hasPrevPage:!1,nextPage:2,prevPage:null,size:10,totalPages:2,totalResults:17}}){const{getTableProps:p,getTableBodyProps:d,headerGroups:u,page:h,prepareRow:g,state:{},visibleColumns:m}=G({columns:t,data:n,initialState:{pageSize:10,pageIndex:0}},q,H,$,Y,J);/*#__PURE__*/return K(_,{children:/*#__PURE__*/U("div",{className:"ReactTable "+o,children:[/*#__PURE__*/K("div",{className:"pagination-top",children:/*#__PURE__*/K(Se,{filters:s,onFilter:e=>a(e),onSearch:e=>l(e)})}),/*#__PURE__*/U("table",ie({},p(),{className:"rt-table",children:[/*#__PURE__*/K("thead",{className:"rt-thead -header",children:u.map(e=>/*#__PURE__*/K("tr",ie({},e.getHeaderGroupProps(),{className:"rt-tr",children:e.headers.map((t,n)=>/*#__PURE__*/U("th",ie({},t.getHeaderProps(t.getSortByToggleProps()),{className:B("rt-th rt-resizable-header",{"-cursor-pointer":e.headers.length-1!==n,"-sort-asc":t.isSorted&&!t.isSortedDesc,"-sort-desc":t.isSorted&&t.isSortedDesc}),children:[/*#__PURE__*/U("div",{className:"rt-resizable-header-content",children:[t.render("Header"),/*#__PURE__*/K("div",ie({},t.getResizerProps(),{className:B("col-resizer",{" active":t.isResizing})}))]}),/*#__PURE__*/K("div",{children:e.headers.length-1===n?null:t.canFilter?t.render("Filter"):null})]})))})))}),/*#__PURE__*/K("tbody",ie({},d(),{className:"rt-tbody",children:h.map((t,n)=>{var o;return g(t),/*#__PURE__*/U(e.Fragment,{children:[/*#__PURE__*/K("tr",ie({},t.getRowProps(),{className:B("rt-tr",{" -odd":n%2==0},{" -even":n%2==1}),children:t.cells.map(e=>/*#__PURE__*/K("td",ie({},e.getCellProps(),{className:"rt-td",children:e.render("Cell")})))})),t.isExpanded?/*#__PURE__*/K("tr",{children:/*#__PURE__*/K("td",{colSpan:m.length,children:r&&r({row:t})})}):null]},null==(o=t.getRowProps())?void 0:o.key)})}))]})),/*#__PURE__*/K("div",{className:"pagination-bottom",children:/*#__PURE__*/K("div",{className:"-pagination",children:/*#__PURE__*/K("div",{className:"-center flex-nowrap",children:/*#__PURE__*/K(we,{className:"pagination-bar",pagination:c,currentPage:c.currentPage,totalCount:c.totalResults,pageSize:c.size,onPageChange:e=>{i({page:e})}})})})})]})})}const Ee="inline-default",xe="block-default",Oe="atomic-entity",Pe="image",je="divider",Fe="link",Le="mention",Re="checklist",De="start";function ze({name:e,profileImageUrl:t,_id:n,onSelect:r=(()=>{})}){let l=o(o=>{o.preventDefault(),r({name:e,profileImageUrl:t,_id:n})});/*#__PURE__*/return U("div",{className:"d-flex align-items-center",children:[/*#__PURE__*/K("div",{className:"avatar mb-1",children:/*#__PURE__*/K("img",{src:t||ae,alt:e})}),/*#__PURE__*/K("div",{onClick:l,className:"btn btn-link p-2 mb-1",children:e})]})}const Ae=["suggestions"];function Me(e){let{suggestions:t}=e,n=ce(e,Ae),{computedPosForMentionSuggestions:r}=l(qe);/*#__PURE__*/return K(_,{children:t.length?/*#__PURE__*/K("div",{className:"mention-suggestions position-absolute mt-4 p-2 shadow-md",style:ie({},r),children:t.map((e,t)=>/*#__PURE__*/K(ze,ie({},e,n),e.name+t))}):null})}function Be(e,t,n){const r=t.getText();let o,l;for(;null!==(o=e.exec(r));)l=o.index,n(l,l+o[0].length)}const Ue=/\B@\w+/g,Ke=/(http(s)?:\/\/.)?(www\.)?[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\+.~#?&//=]*)/g,_e=new X([{strategy:function(e,t,n){Be(Ue,e,t)},component:function(e){let t=a(null),{editorRef:r,mentionSuggestions:i,updateComputedPosForMentionSuggestions:s,handleMentionSelect:c}=l(qe);const p=o(()=>{var e,n;return{left:(null==(e=r.current)||null==(n=e.editor)?void 0:n.getBoundingClientRect()).width-t.current.offsetLeft<240?t.current.offsetLeft-230:t.current.offsetLeft,top:t.current.offsetTop,display:"block"}},[]),d=o(()=>({display:"none"}),[]);function u(){if(!e.entityKey)return null;const t=e.contentState.getEntity(e.entityKey);return ie({},null==t?void 0:t.getData())}return n(()=>{t.current&&s(p())},[]),/*#__PURE__*/U(_,{children:[u()?/*#__PURE__*/K("a",{href:"/admin/users/"+u()._id,className:"text-primary",children:u().name}):/*#__PURE__*/K("span",{ref:t,className:"",children:e.children}),/*#__PURE__*/K(Me,{suggestions:i.filter(t=>{var n;return t.name.toLowerCase().includes(e.decoratedText.slice(1,null==e||null==(n=e.decoratedText)?void 0:n.length).toLowerCase())}),onSelect:({name:t,profileImageUrl:n,_id:r})=>{let o="@"+t.split(" ").join("_");c(e.contentState,e.blockKey,{start:e.start,end:e.end},{mention:o+" ",profileImageUrl:n,_id:r,name:t}),s(d())}})]})}},{strategy:function(e,t,n){Be(Ke,e,t)},component:function(e){/*#__PURE__*/return K("a",{href:e.decoratedText,title:e.decoratedText,target:"_blank",rel:"noreferrer",children:e.children})}},{strategy:(e,t,n)=>{e.findEntityRanges(e=>{const t=e.getEntity();return null!==t&&n.getEntity(t).getType()===Fe},t)},component:function(e){let t=e.contentState.getEntity(e.entityKey).getData();return t.href?/*#__PURE__*/K("a",{href:t.href,title:t.linkText,target:"_blank",rel:"noreferrer",children:t.linkText||t.href}):null}}]),Ge=["children"],qe=/*#__PURE__*/e.createContext(),He=e=>{let{children:r}=e,o=ce(e,Ge),l=function(e){const r=a(null),[o,l]=t(Z.createEmpty(_e)),[i,s]=t(!1),[c,p]=t({display:"none"});n(()=>{let t;try{"string"==typeof e.value&&(t=JSON.parse(e.value)),"object"==typeof e.value&&(t=e.value)}catch(t){if(console.log(t),"string"==typeof e.value)return h(Z.createWithContent(Q.createFromText(e.value)))}return h(e.value||t?Z.set(o,{currentContent:ee(t),directionMap:Z.createWithContent(ee(t)).getDirectionMap()}):Z.createEmpty(_e))},[e.value]);const d=a(null),u=(e,t)=>{const n=o.getCurrentContent().createEntity(e,"IMMUTABLE",ie({},t)),r=n.getLastCreatedEntityKey(),l=Z.set(o,{currentContent:n},"create-entity");h(oe.insertAtomicBlock(l,r," "))},h=t=>{const n=t.getCurrentContent();l(t),e.onDataStructureChange(JSON.stringify(te(n)))},g=async t=>{if(!e.handleUpload)return console.log("Uploader function not specified");if(!t.every(e=>"image"===e.type.split("/")[0]))return console.log("All files has to be images");try{let n=await Promise.all(t.map(t=>e.handleUpload(t)));console.log(n),n.every(e=>e)||console.log("one or mutiple files don't have storage info"),n.map(e=>u(Pe,{storageInfo:e}))}catch(e){return console.log(e)}},m=e=>{e.preventDefault(),g(Array.from(e.target.files))},y={[Pe]:()=>d.current.click(),[Fe]:()=>h((e=>{let t=window.prompt("Paste the link bellow:");if(t){let n=window.prompt("Paste the link-text below:");if(n){const r=e.getCurrentContent();r.createEntity(Fe,"MUTABLE",{href:t,linkText:n});let o=r.getLastCreatedEntityKey();const l=e.getSelection(),a=W.replaceText(r,l,n,null,o),i=l.set("anchorOffset",l.getAnchorOffset()+n.length),s=Z.set(e,{currentContent:a},"create-entity"),c=Z.forceSelection(s,i);return console.log(i.getAnchorOffset(),"editor selection anchor offset after link insert:",c.getSelection().getAnchorOffset()),c}}})(o)),[je]:()=>u(je,{}),[Le]:()=>{},[Re]:()=>{u(Re,{})}},f={[Ee]:e=>h(ne.toggleInlineStyle(o,e)),[xe]:e=>h(ne.toggleBlockType(o,e)),[Oe]:e=>{y[e]()}};return{editorRef:r,editorState:o,computedPosForMentionSuggestions:c,focusedForEditing:i,getFileInputProps:()=>({ref:d,onChange:m}),generateLink:async t=>e.linkGeneratorFn&&"function"==typeof e.linkGeneratorFn?e.linkGeneratorFn(t):null,handleDroppedFiles:(e,t)=>g(t),handlePastedFiles:e=>g(e),handleEditorStateChange:h,handleKeyCommand:(e,t)=>{let n=ne.handleKeyCommand(t,e);return n?(h(n),"handled"):"not-handled"},handleToolClick:(e,t)=>(t.preventDefault(),o.getSelection().getHasFocus()&&null!=e&&e.element?void f[e.element](e.style):null),forceFocusEditorEnd:e=>{var t;(null==e?void 0:e.preventDefault)&&e.preventDefault(),null==(t=r.current.editor)||t.focus(),h(Z.moveFocusToEnd(o))},updateComputedPosForMentionSuggestions:e=>p(e),handleMentionSelect:(e,t,n,r)=>{let l=re.createEmpty(t),a=e.createEntity(Le,"IMMUTABLE",ie({},r)),i=a.getLastCreatedEntityKey();a=W.replaceText(e,l.merge({anchorOffset:n.start,focusOffset:n.end}),r.mention,o.getCurrentInlineStyle(),i),h(Z.forceSelection(Z.moveFocusToEnd(Z.set(o,{currentContent:a})),a.getSelectionAfter()))},activateEditor:()=>s(!0),deactivateEditor:()=>s(!1)}}({handleUpload:o.handleUpload||async function(){},linkGeneratorFn:o.linkGeneratorFn,onDataStructureChange:o.onDataStructureChange||function(){},value:o.value||null}),i=ie({},(se(l),l));/*#__PURE__*/return K(qe.Provider,{value:ie({},i,{mentionSuggestions:o.mentionSuggestions||[]}),children:r})};function $e(e){var t;return e.src||e.link?/*#__PURE__*/K("img",{src:e.src||e.link,alt:e.alt||(null==(t=e.storageInfo)?void 0:t.Key)||"...",className:"unselectable"}):null}function Ye(){/*#__PURE__*/return K("hr",{})}function Je({}){/*#__PURE__*/return K(e.Fragment,{})}const Ve=["editorRef","onResizeEnd","reference","currentSize"],We=[0,5,10,15,20,25,30,35,40,45,50,55,60,65,70,75,80,85,90,95,100];function Ze(t){var n,r;let{editorRef:o,onResizeEnd:l,reference:a="left",currentSize:i=10}=t,s=ce(t,Ve),[c,p]=e.useState(!1),[d,u]=e.useState(i);const h=null==(n=o.current)||null==(r=n.editor)?void 0:r.getBoundingClientRect();let g=e.useCallback(e=>{e.preventDefault();const t=e=>{let t=[...We];p(!0);let n="center"===a?h.width/2:h.width,r=parseInt(Math.abs(e.clientX-("center"===a?h.left+h.width/2:"end"===a?h.left+h.width:h.left))),o=parseInt(r/n*100);t.sort((e,t)=>Math.abs(o-e)-Math.abs(o-t));let i=t[0];u(i),l&&l({partition:i});let c=s.block.getEntityAt(0);s.contentState.mergeEntityData(c,{size:i})},n=()=>{p(!1),document.removeEventListener("mousemove",t,!1),document.removeEventListener("mouseup",n,!1)};document.addEventListener("mousemove",t,!1),document.addEventListener("mouseup",n,!1)},[l]);/*#__PURE__*/return U(_,{children:[/*#__PURE__*/K("div",{className:"d-inline-block p-2 unselectable",style:{cursor:"col-resize"},onMouseDown:g,children:/*#__PURE__*/K("div",{className:"bg-primary rounded resize-bar"})}),c&&/*#__PURE__*/K("div",{className:"resize-guides-container position-absolute ",children:We.map(e=>(parseInt(window.getComputedStyle(document.querySelector(".draft-editor-container"),null).getPropertyValue("padding-left")),{percentage:e,pixels:Math.ceil(h.width*e/100)})).map(e=>/*#__PURE__*/K("div",{className:B("resize-guide position-absolute rounded",{"bg-info":"start"===a&&e.percentage===d||"end"===a&&100-e.percentage===d}),style:{left:e.pixels}},e.pixels))})]})}const Xe=["editorRef","onAlignmentChange"],Qe=[{label:"Align left",style:De,icon:"fa-solid fa-align-left"},{label:"Align center",style:"center",icon:"fa-solid fa-align-justify"},{label:"Align right",style:"end",icon:"fa-solid fa-align-right"}];function et(e){let{onAlignmentChange:t}=e,n=ce(e,Xe),r=o(({alignment:e})=>{t&&t({alignment:e});let r=n.block.getEntityAt(0);n.contentState.mergeEntityData(r,{alignment:e})},[t]);/*#__PURE__*/return K("div",{className:"d-inline-block shadow-md rounded mb-1",children:Qe.map(e=>/*#__PURE__*/K(s,{title:null==e?void 0:e.label,type:"button",className:B("btn btn-icon m-0 text-muted",{}),onClick:t=>r({alignment:null==e?void 0:e.style}),children:e.icon?/*#__PURE__*/K("i",{className:e.icon}):null==e?void 0:e.label},null==e?void 0:e.style))})}const tt=["children"];function nt(t){let{children:n}=t,r=ce(t,tt),[o,l]=e.useState(!1),[a,i]=e.useState(r.size||30),[s,c]=e.useState(r.alignment||De),p=()=>({"justify-content-start":"start"===s,"justify-content-center":"center"===s,"justify-content-end":"end"===s});/*#__PURE__*/return U(_,{children:[o&&s&&/*#__PURE__*/K("div",{className:B("d-flex",p()),children:/*#__PURE__*/K(et,ie({onAlignmentChange:e=>c(e.alignment)},r))}),/*#__PURE__*/U("div",{className:B("d-flex align-items-center position-relative",p()),children:[o&&"start"!==s&&/*#__PURE__*/K(Ze,ie({},r,{reference:s,onResizeEnd:e=>i(e.partition)})),/*#__PURE__*/K("div",{className:B("d-inline-block rounded resize-container unselectable",{"resize-focused":o,"w-10":10===a,"w-15":15===a,"w-20":20===a,"w-25":25===a,"w-30":30===a,"w-35":35===a,"w-40":40===a,"w-45":45===a,"w-50":50===a,"w-55":55===a,"w-60":60===a,"w-65":65===a,"w-70":70===a,"w-75":75===a,"w-80":80===a,"w-85":85===a,"w-90":90===a,"w-95":95===a,"w-100":100===a}),onClick:()=>l(e=>!e),children:n}),o&&"end"!==s&&/*#__PURE__*/K(Ze,ie({},r,{reference:s,currentSize:a,onResizeEnd:e=>i(e.partition)}))]})]})}const rt=["type","data","editorControllers"];function ot(e){let{type:t,data:n,editorControllers:r}=e,o=null,l=ie({},n,r,ce(e,rt));return t===Pe&&(o=/*#__PURE__*/K(nt,ie({},l,{children:/*#__PURE__*/K($e,ie({},n))}))),t===je&&(o=/*#__PURE__*/K(Ye,ie({},n))),t===Re&&(o=/*#__PURE__*/K(Je,ie({},n))),o}const lt=["generateLink"],at=e=>"atomic"===e.getType()?{component:it,editable:!1}:null,it=t=>{const n=t.block.getEntityAt(0),r=n&&t.contentState.getEntity(n),o=null==r?void 0:r.getType(),a=l(qe),{generateLink:i}=a,s=ce(a,lt);let c=function(t){let[n,r]=e.useState(t.src);return e.useEffect(()=>(async function(){if(!t.src)try{if(!t.generateLink||"function"!=typeof t.generateLink)throw Error("link gnerator function must be supplied");let e=await t.generateLink(t.storageInfo);if(!e)throw new Error("link generator function must return a valid link or else provide a valid  image source");r(e)}catch(e){r(ae),console.log(e)}}(),()=>{}),[t.generateLink]),{link:n}}(ie({generateLink:i},null==r?void 0:r.getData()));/*#__PURE__*/return K(ot,ie({type:o,data:ie({},null==r?void 0:r.getData(),c),editorControllers:ie({},s)},t))},st=["readOnly"];function ct(t){let{readOnly:n=!1}=t,r=ce(t,st);const{editorRef:o,editorState:l,handleEditorStateChange:a,handleDroppedFiles:i,handlePastedFiles:s,handleKeyCommand:c,activateEditor:p,deactivateEditor:d}=e.useContext(qe);/*#__PURE__*/return K(_,{children:/*#__PURE__*/K(le,{ref:o,blockRendererFn:at,placeholder:r.placeholder,onChange:a,editorState:l,spellCheck:!0,handleKeyCommand:c,handleDroppedFiles:i,handlePastedFiles:s,readOnly:n,onFocus:p,onBlur:d})})}const pt={INLINE_TYPES:[{label:"Underline",style:"UNDERLINE",icon:"fa-solid fa-underline",element:Ee},{label:"Bold",style:"BOLD",icon:"fa-solid fa-bold",element:Ee},{label:"Italic",style:"ITALIC",icon:"fa-solid fa-italic",element:Ee},{label:"Strike through",style:"STRIKETHROUGH",icon:"fa-solid fa-strikethrough",element:Ee}],BLOCK_TYPES:[{label:"Header",style:"header-three",icon:"fa-solid fa-heading",element:xe},{label:"UL",style:"unordered-list-item",icon:"fa-solid fa-list",element:xe},{label:"OL",style:"ordered-list-item",icon:"fa-solid fa-list-ol",element:xe},{label:"Blockquote",style:"blockquote",icon:"fa-solid fa-quote-left",element:xe},{label:"Code block",style:"code-block",icon:"fa-solid fa-code",element:xe}],ENTITY_TYPES:[{label:"Image",style:Pe,icon:"fa-solid fa-images",element:Oe},{label:"Divider",style:je,icon:"fa-solid fa-minus",element:Oe}]};function dt(e){/*#__PURE__*/return K("span",{className:"draft-toolbar-button-separator",children:"|"})}const ut=/*#__PURE__*/e.forwardRef((e,t)=>/*#__PURE__*/K("input",ie({},e,{ref:t,className:"d-none",type:"file",accept:e.accept||"image/*"})));function ht(t){const{getFileInputProps:n,editorState:r,handleToolClick:o}=e.useContext(qe);/*#__PURE__*/return U(_,{children:[/*#__PURE__*/K(ut,ie({},n())),Object.keys(pt).map((t,n)=>{var l;/*#__PURE__*/return U(e.Fragment,{children:[null==(l=pt[t])?void 0:l.map(e=>/*#__PURE__*/K(s,{title:null==e?void 0:e.label,type:"button",className:"btn btn-icon text-muted m-0",onMouseDown:t=>o(e,t),children:e.icon?/*#__PURE__*/K("i",{className:B(e.icon,{"text-primary":r.getCurrentInlineStyle().has(null==e?void 0:e.style)||(null==r?void 0:r.getCurrentContent().getBlockForKey(null==r?void 0:r.getSelection().getStartKey()).getType())===(null==e?void 0:e.style)})}):null==e?void 0:e.label},null==e?void 0:e.style)),n<Object.keys(pt).length-1&&/*#__PURE__*/K(dt,{})]},t)})]})}function gt(t){const{forceFocusEditorEnd:n,focusedForEditing:r}=e.useContext(qe);/*#__PURE__*/return U("div",{className:B("draft-editor-container d-flex flex-column",{"editor-disabled":t.readOnly,"editor-active":r}),children:[!t.readOnly&&/*#__PURE__*/U("div",{children:[/*#__PURE__*/K(ht,ie({},t)),/*#__PURE__*/K("hr",{})]}),/*#__PURE__*/K(ct,ie({},t)),/*#__PURE__*/K("div",{className:"flex-grow-1",onMouseDown:n})]})}function mt(e){/*#__PURE__*/return K(He,ie({},e,{children:/*#__PURE__*/K(gt,ie({},e))}))}mt.propTypes={value:i.string,linkGeneratorFn:i.func,handleUpload:i.func};const yt=["children","separated"];Object.assign({separated:!1},S.prototype.props);const ft=e=>{let{children:t,separated:n}=e,r=ce(e,yt);/*#__PURE__*/return K(S,ie({className:B(r.className,{"pagination-separated":n})},r,{children:t}))};ft.propTypes=ie({separated:i.bool},S.propTypes&&S.propTypes);const bt=["children"];Object.assign({},C.prototype.props);const vt=e=>{let{children:t}=e,n=ce(e,bt);/*#__PURE__*/return K(C,ie({},n,{children:t}))};vt.propTypes=ie({},C.propTypes&&C.propTypes);const Tt=["children","link"];Object.assign({},k.prototype.props);const Nt=e=>{let{children:t,link:n}=e,r=ce(e,Tt);return n?/*#__PURE__*/K("span",{className:"page-link",children:t}):/*#__PURE__*/K(k,ie({},r,{children:t}))};Nt.propTypes=ie({},k.propTypes&&k.propTypes);const St=["children"];var Ct;Object.assign({},null==(Ct=w.prototype)?void 0:Ct.props);const kt=e=>{let{children:t}=e,n=ce(e,St);/*#__PURE__*/return K(w,ie({},n,{children:t}))};kt.propTypes=ie({},w.propTypes&&w.propTypes);const wt=["children"];var It;Object.assign({},null==(It=I.prototype)?void 0:It.props);const Et=e=>{let{children:t}=e,n=ce(e,wt);/*#__PURE__*/return K(I,ie({},n,{children:t}))};Et.propTypes=ie({},I.propTypes&&I.propTypes);const xt=["children"];var Ot;Object.assign({},null==(Ot=E.prototype)?void 0:Ot.props);const Pt=e=>{let{children:t}=e,n=ce(e,xt);/*#__PURE__*/return K(E,ie({},n,{children:t}))};Pt.propTypes=ie({},E.propTypes&&E.propTypes);const jt=["children"];var Ft;Object.assign({},null==(Ft=x.prototype)?void 0:Ft.props);const Lt=e=>{let{children:t}=e,n=ce(e,jt);/*#__PURE__*/return K(x,ie({},n,{children:t}))};Lt.propTypes=ie({},x.propTypes&&x.propTypes);const Rt=["children"];var Dt;Object.assign({},null==(Dt=O.prototype)?void 0:Dt.props);const zt=e=>{let{children:t}=e,n=ce(e,Rt);/*#__PURE__*/return K(O,ie({},n,{children:t}))};zt.propTypes=ie({},O.propTypes&&O.propTypes);const At=["children"];var Mt;Object.assign({},null==(Mt=P.prototype)?void 0:Mt.props);const Bt=e=>{let{children:t}=e,n=ce(e,At);/*#__PURE__*/return K(P,ie({},n,{children:t}))};Bt.propTypes=ie({},P.propTypes&&P.propTypes);const Ut=["children"];var Kt;Object.assign({},null==(Kt=j.prototype)?void 0:Kt.props);const _t=e=>{let{children:t}=e,n=ce(e,Ut);/*#__PURE__*/return K(j,ie({},n,{children:t}))};_t.propTypes=ie({},j.propTypes&&j.propTypes);const Gt=["children"];Object.assign({},F.prototype.props);const qt=e=>{let{children:t}=e,n=ce(e,Gt);/*#__PURE__*/return K(F,ie({},n,{children:t}))};qt.propTypes=ie({},F.propTypes&&F.propTypes);const Ht=["children"];Object.assign({},L.prototype.props);const $t=e=>{let{children:t}=e,n=ce(e,Ht);/*#__PURE__*/return K(L,ie({},n,{children:t}))};$t.propTypes=ie({},L.propTypes&&L.propTypes);const Yt=["children"];Object.assign({},R.prototype.props);const Jt=e=>{let{children:t}=e,n=ce(e,Yt);/*#__PURE__*/return K(R,ie({},n,{children:t}))};Jt.propTypes=ie({},R.propTypes&&R.propTypes);const Vt=["children"];Object.assign({},D.prototype.props);const Wt=e=>{let{children:t}=e,n=ce(e,Vt);/*#__PURE__*/return K(D,ie({},n,{children:t}))};Wt.propTypes=ie({},D.propTypes&&D.propTypes);const Zt=["children"];Object.assign({},z.prototype.props);const Xt=e=>{let{children:t}=e,n=ce(e,Zt);/*#__PURE__*/return K(z,ie({},n,{children:t}))};Xt.propTypes=ie({},z.propTypes&&z.propTypes);const Qt=["children"];Object.assign({},A.prototype.props);const en=e=>{let{children:t}=e,n=ce(e,Qt);/*#__PURE__*/return K(A,ie({},n,{children:t}))};en.propTypes=ie({},A.propTypes&&A.propTypes);const tn=["children"];Object.assign({},M.prototype.props);const nn=e=>{let{children:t}=e,n=ce(e,tn);/*#__PURE__*/return K(M,ie({},n,{children:t}))};nn.propTypes=ie({},M.propTypes&&M.propTypes);export{Ie as AdvancedTable,pe as Button,de as Card,ue as CardBody,he as CardFooter,ge as CardHeader,me as Dropdown,Te as DropdownItem,be as DropdownMenu,fe as DropdownToggle,kt as ListBase,Et as ListGroupItem,Pt as ListGroupItemHeading,Lt as ListGroupItemText,zt as ListInlineItem,qt as Nav,$t as NavItem,Jt as NavLink,Wt as Navbar,Xt as NavbarBrand,nn as NavbarText,en as NavbarToggler,ft as Pagination,vt as PaginationItem,Nt as PaginationLink,Ne as SimpleTable,Bt as TabContent,_t as TabPane,mt as TextEditor};
//# sourceMappingURL=ims-ui-kit.modern.mjs.map
