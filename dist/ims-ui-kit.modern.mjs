import e,{useState as t,useEffect as n,useMemo as r,useCallback as o,useContext as l,useRef as a}from"react";import i from"prop-types";import{Button as s,Card as c,CardBody as p,CardFooter as d,CardHeader as u,Dropdown as h,DropdownItem as g,Table as m,Row as y,Col as f,InputGroup as b,Input as v,DropdownMenu as T,DropdownToggle as N,List as S,ListGroupItem as C,ListGroupItemHeading as k,ListGroupItemText as w,ListInlineItem as I,Navbar as E,NavbarBrand as O,NavbarText as x,NavbarToggler as P,Nav as j,NavItem as F,NavLink as L,Pagination as R,PaginationItem as z,PaginationLink as D,TabContent as A,TabPane as M,UncontrolledAlert as B,Alert as U}from"reactstrap";import K from"classnames";import{jsxs as _,jsx as G,Fragment as q}from"react/jsx-runtime";import{useTable as H,useSortBy as $,useExpanded as Y,usePagination as J,useResizeColumns as V,useBlockLayout as Z,useFlexLayout as W}from"react-table";import{useSticky as X}from"react-table-sticky";import Q from"react-select";import{Modifier as ee,EditorState as te,CompositeDecorator as ne,ContentState as re,convertFromRaw as oe,convertToRaw as le,RichUtils as ae,SelectionState as ie,AtomicBlockUtils as se,Editor as ce}from"draft-js";import pe from"assets/img/default-avatar.png";function de(){return de=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},de.apply(this,arguments)}function ue(e){if(null==e)throw new TypeError("Cannot destructure "+e)}function he(e,t){if(null==e)return{};var n,r,o={},l=Object.keys(e);for(r=0;r<l.length;r++)t.indexOf(n=l[r])>=0||(o[n]=e[n]);return o}Object.assign({leftIcon:"",rightIcon:""},s.prototype.props);const ge=e=>/*#__PURE__*/_(s,de({},e,{children:[e.leftIcon?/*#__PURE__*/G("i",{className:K(e.leftIcon,"me-2")}):null,e.children,e.rightIcon?/*#__PURE__*/G("i",{className:K(e.rightIcon,"ms-2")}):null]}));ge.propTypes=de({leftIcon:i.string,rightIcon:i.string},s.propTypes&&s.propTypes),Object.assign({},c.prototype.props);const me=e=>/*#__PURE__*/G(c,de({},e,{children:e.children}));me.propTypes=de({},c.propTypes&&c.propTypes),Object.assign({},p.prototype.props);const ye=e=>/*#__PURE__*/G(p,de({},e,{children:e.children}));ye.propTypes=de({},p.propTypes&&p.propTypes),Object.assign({},d.prototype.props);const fe=e=>/*#__PURE__*/G(d,de({},e,{children:e.children}));fe.propTypes=de({},d.propTypes&&d.propTypes),Object.assign({},u.prototype.props);const be=e=>/*#__PURE__*/G(u,de({},e,{children:e.children}));be.propTypes=de({},u.propTypes&&u.propTypes),Object.assign({},h.prototype.props);const ve=e=>{let t=de({},(ue(e),e));/*#__PURE__*/return G(h,de({},t,{children:t.children}))};ve.propTypes=de({},h.propTypes&&h.propTypes);const Te=["leftIcon","rightIcon","leftIconStyle","rightIconStyle"];Object.assign({},g.prototype.props);const Ne=e=>{let{leftIcon:t="",rightIcon:n="",leftIconStyle:r="text-secondary",rightIconStyle:o="text-secondary"}=e,l=he(e,Te);/*#__PURE__*/return _(g,de({},l,{className:"d-flex justify-content-between align-items-center",children:[/*#__PURE__*/_("span",{children:[t&&/*#__PURE__*/G("i",{className:`${t} ${r} me-2`}),l.children]}),n&&/*#__PURE__*/G("i",{className:`${n} ${o}`})]}))};Ne.propTypes=de({},g.propTypes&&g.propTypes);const Se=e=>/*#__PURE__*/_(m,{striped:!0,hover:!0,children:[/*#__PURE__*/G("thead",{children:/*#__PURE__*/G("tr",{children:e.thead.map((t,n)=>/*#__PURE__*/G("th",{className:K("",{"text-right":e.thead.length-1===n}),children:t.text},n))})}),/*#__PURE__*/G("tbody",{children:e.tbody.map((e,t)=>/*#__PURE__*/_("tr",{className:K({[e.className]:void 0!==e.className}),children:[e.data.map((e,t)=>/*#__PURE__*/G("td",{className:K({[e.className]:void 0!==e.className}),children:e.item},t)),e.actions&&/*#__PURE__*/G("td",{className:"text-right",children:e.actions})]},t))})]});Se.propTypes={thead:i.arrayOf(i.shape({className:i.string,text:i.string.isRequired})).isRequired,tbody:i.arrayOf(i.shape({className:i.string,data:i.arrayOf(i.shape({className:i.string,item:i.oneOfType([i.string,i.number,i.node]).isRequired})).isRequired,actions:i.node})).isRequired};const Ce=({onFilter:r=(()=>{}),onSearch:o=(()=>{}),filters:l=[]})=>{let[a,i]=e.useState("");const s=function(e,r){const[o,l]=t(e);return n(()=>{const t=setTimeout(()=>{l(e)},500);return()=>{clearTimeout(t)}},[e,500]),o}(a);return e.useEffect(()=>{o({value:{clientSearch:s}})},[s]),/*#__PURE__*/_(y,{children:[/*#__PURE__*/G(f,{md:"3",children:/*#__PURE__*/G(Q,{className:"react-select default m-0 w-100",classNamePrefix:"react-select",name:"singleSelect",onChange:e=>{r(e)},defaultValue:l.find(e=>e.default),options:l,placeholder:"Select filter"})}),/*#__PURE__*/G(f,{md:"6",children:/*#__PURE__*/G(b,{children:/*#__PURE__*/G(v,{onChange:e=>i(e.currentTarget.value.toString()),placeholder:"Search item"})})})]})},ke="...",we=(e,t)=>Array.from({length:t-e+1},(t,n)=>n+e),Ie=e=>{const{onPageChange:t=(()=>{}),totalCount:n=0,siblingCount:o=1,currentPage:l=1,pageSize:a=10}=e,i=(({totalCount:e,pageSize:t,siblingCount:n=1,currentPage:o})=>r(()=>{const r=Math.ceil(e/t);if(n+5>=r)return we(1,r);const l=Math.max(o-n,1),a=Math.min(o+n,r),i=l>2,s=a<r-2,c=r;if(!i&&s)return[...we(1,3+2*n),ke,r];if(i&&!s){let e=we(r-(3+2*n)+1,r);return[1,ke,...e]}if(i&&s){let e=we(l,a);return[1,ke,...e,ke,c]}},[e,t,n,o]))({currentPage:l,totalCount:n,siblingCount:o,pageSize:a});if(0===l||i.length<2)return null;let s=i[i.length-1];/*#__PURE__*/return G(q,{children:/*#__PURE__*/G("nav",{"aria-label":"Page navigation",children:/*#__PURE__*/_("ul",{className:"pagination",children:[/*#__PURE__*/G("li",{className:"page-item",children:/*#__PURE__*/_("button",{onClick:()=>{t&&t(l-1)},className:"page-link","aria-label":"Next",children:[/*#__PURE__*/G("span",{"aria-hidden":"true",children:"«"}),/*#__PURE__*/G("span",{className:"sr-only",children:"Previous"})]})},"first-button"),i.map((e,n)=>e===ke?/*#__PURE__*/G("li",{className:"pagination-item dots",children:"…"},ke+n):/*#__PURE__*/G("li",{className:`page-item ${l===e&&" active"}`,children:/*#__PURE__*/G("button",{className:"page-link",onClick:()=>t(e),children:e})},e)),/*#__PURE__*/G("li",{className:"page-item",children:/*#__PURE__*/_("button",{disabled:l===s,className:"page-link",onClick:()=>{t&&t(l+1)},"aria-label":"Next",children:[/*#__PURE__*/G("span",{"aria-hidden":"true",children:"»"}),/*#__PURE__*/G("span",{className:"sr-only",children:"Next"})]})},"next-button")]})})})};function Ee({columns:t,data:n,renderRowSubComponent:r,className:o="-highlight -striped ",handleSearch:l=(()=>{}),handleFilter:a=(()=>{}),handlePagination:i=(()=>{}),filters:s=[],pagination:c={currentPage:1,hasNextPage:!0,hasPrevPage:!1,nextPage:2,prevPage:null,size:10,totalPages:2,totalResults:17}}){const{getTableProps:p,getTableBodyProps:d,headerGroups:u,page:h,prepareRow:g,state:{},visibleColumns:m}=H({columns:t,data:n,initialState:{pageSize:10,pageIndex:0}},$,Y,J,V,Z,X,W);/*#__PURE__*/return G(q,{children:/*#__PURE__*/_("div",{className:"ReactTable "+o,children:[/*#__PURE__*/G("div",{className:"pagination-top",children:/*#__PURE__*/G(Ce,{filters:s,onFilter:e=>a(e),onSearch:e=>l(e)})}),/*#__PURE__*/_("table",de({},p(),{className:"rt-table",children:[/*#__PURE__*/G("thead",{className:"rt-thead -header",children:u.map(e=>/*#__PURE__*/G("tr",de({},e.getHeaderGroupProps(),{className:"rt-tr",children:e.headers.map((t,n)=>/*#__PURE__*/_("th",de({},t.getHeaderProps(t.getSortByToggleProps()),{className:K("rt-th rt-resizable-header",{"-cursor-pointer":e.headers.length-1!==n,"-sort-asc":t.isSorted&&!t.isSortedDesc,"-sort-desc":t.isSorted&&t.isSortedDesc}),children:[/*#__PURE__*/_("div",{className:"rt-resizable-header-content",children:[t.render("Header"),/*#__PURE__*/G("div",de({},t.getResizerProps(),{className:K("col-resizer",{" active":t.isResizing})}))]}),/*#__PURE__*/G("div",{children:e.headers.length-1===n?null:t.canFilter?t.render("Filter"):null})]})))})))}),/*#__PURE__*/G("tbody",de({},d(),{className:"rt-tbody",children:h.map((t,n)=>{var o;return g(t),/*#__PURE__*/_(e.Fragment,{children:[/*#__PURE__*/G("tr",de({},t.getRowProps(),{className:K("rt-tr",{" -odd":n%2==0},{" -even":n%2==1}),children:t.cells.map(e=>/*#__PURE__*/G("td",de({},e.getCellProps(),{className:"rt-td",children:e.render("Cell")})))})),t.isExpanded?/*#__PURE__*/G("tr",{children:/*#__PURE__*/G("td",{colSpan:m.length,children:r&&r({row:t})})}):null]},null==(o=t.getRowProps())?void 0:o.key)})}))]})),/*#__PURE__*/G("div",{className:"pagination-bottom",children:/*#__PURE__*/G("div",{className:"-pagination",children:/*#__PURE__*/G("div",{className:"-center flex-nowrap",children:/*#__PURE__*/G(Ie,{className:"pagination-bar",pagination:c,currentPage:c.currentPage,totalCount:c.totalResults,pageSize:c.size,onPageChange:e=>{i({page:e})}})})})})]})})}const Oe="inline-default",xe="block-default",Pe="atomic-entity",je="image",Fe="divider",Le="link",Re="mention",ze="checklist",De="start";function Ae({name:e,profileImageUrl:t,_id:n,onSelect:r=(()=>{})}){let l=o(o=>{o.preventDefault(),r({name:e,profileImageUrl:t,_id:n})});/*#__PURE__*/return _("div",{className:"d-flex align-items-center",children:[/*#__PURE__*/G("div",{className:"avatar mb-1",children:/*#__PURE__*/G("img",{src:t||pe,alt:e})}),/*#__PURE__*/G("div",{onClick:l,className:"btn btn-link p-2 mb-1",children:e})]})}const Me=["suggestions"];function Be(e){let{suggestions:t}=e,n=he(e,Me),{computedPosForMentionSuggestions:r}=l(He);/*#__PURE__*/return G(q,{children:t.length?/*#__PURE__*/G("div",{className:"mention-suggestions position-absolute mt-4 p-2 shadow-md",style:de({},r),children:t.map((e,t)=>/*#__PURE__*/G(Ae,de({},e,n),e.name+t))}):null})}function Ue(e,t,n){const r=t.getText();let o,l;for(;null!==(o=e.exec(r));)l=o.index,n(l,l+o[0].length)}const Ke=/\B@\w+/g,_e=/(http(s)?:\/\/.)?(www\.)?[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\+.~#?&//=]*)/g,Ge=new ne([{strategy:function(e,t,n){Ue(Ke,e,t)},component:function(e){let t=a(null),{editorRef:r,mentionSuggestions:i,updateComputedPosForMentionSuggestions:s,handleMentionSelect:c}=l(He);const p=o(()=>{var e,n;return{left:(null==(e=r.current)||null==(n=e.editor)?void 0:n.getBoundingClientRect()).width-t.current.offsetLeft<240?t.current.offsetLeft-230:t.current.offsetLeft,top:t.current.offsetTop,display:"block"}},[]),d=o(()=>({display:"none"}),[]);function u(){if(!e.entityKey)return null;const t=e.contentState.getEntity(e.entityKey);return de({},null==t?void 0:t.getData())}return n(()=>{t.current&&s(p())},[]),/*#__PURE__*/_(q,{children:[u()?/*#__PURE__*/G("a",{href:"/admin/users/"+u()._id,className:"text-primary",children:u().name}):/*#__PURE__*/G("span",{ref:t,className:"",children:e.children}),/*#__PURE__*/G(Be,{suggestions:i.filter(t=>{var n;return t.name.toLowerCase().includes(e.decoratedText.slice(1,null==e||null==(n=e.decoratedText)?void 0:n.length).toLowerCase())}),onSelect:({name:t,profileImageUrl:n,_id:r})=>{let o="@"+t.split(" ").join("_");c(e.contentState,e.blockKey,{start:e.start,end:e.end},{mention:o+" ",profileImageUrl:n,_id:r,name:t}),s(d())}})]})}},{strategy:function(e,t,n){Ue(_e,e,t)},component:function(e){/*#__PURE__*/return G("a",{href:e.decoratedText,title:e.decoratedText,target:"_blank",rel:"noreferrer",children:e.children})}},{strategy:(e,t,n)=>{e.findEntityRanges(e=>{const t=e.getEntity();return null!==t&&n.getEntity(t).getType()===Le},t)},component:function(e){let t=e.contentState.getEntity(e.entityKey).getData();return t.href?/*#__PURE__*/G("a",{href:t.href,title:t.linkText,target:"_blank",rel:"noreferrer",children:t.linkText||t.href}):null}}]),qe=["children"],He=/*#__PURE__*/e.createContext(),$e=e=>{let{children:r}=e,o=he(e,qe),l=function(e){const r=a(null),[o,l]=t(te.createEmpty(Ge)),[i,s]=t(!1),[c,p]=t({display:"none"});n(()=>{let t;try{"string"==typeof e.value&&(t=JSON.parse(e.value)),"object"==typeof e.value&&(t=e.value)}catch(t){if(console.log(t),"string"==typeof e.value)return h(te.createWithContent(re.createFromText(e.value)))}return h(e.value||t?te.push(o,oe(t),"change-block-data"):te.createEmpty(Ge))},[]);const d=a(null),u=(e,t)=>{const n=o.getCurrentContent().createEntity(e,"IMMUTABLE",de({},t)),r=n.getLastCreatedEntityKey(),l=te.set(o,{currentContent:n},"create-entity");h(se.insertAtomicBlock(l,r," "))},h=t=>{const n=t.getCurrentContent();l(t),e.onDataStructureChange(JSON.stringify(le(n)))},g=async t=>{if(!e.handleUpload)return console.log("Uploader function not specified");if(!t.every(e=>"image"===e.type.split("/")[0]))return console.log("All files has to be images");try{let n=await Promise.all(t.map(t=>e.handleUpload(t)));console.log(n),n.every(e=>e)||console.log("one or mutiple files don't have storage info"),n.map(e=>u(je,{storageInfo:e}))}catch(e){return console.log(e)}},m=e=>{e.preventDefault(),g(Array.from(e.target.files))},y={[je]:()=>d.current.click(),[Le]:()=>h((e=>{let t=window.prompt("Paste the link bellow:");if(t){let n=window.prompt("Paste the link-text below:");if(n){const r=e.getCurrentContent();r.createEntity(Le,"MUTABLE",{href:t,linkText:n});let o=r.getLastCreatedEntityKey();const l=e.getSelection(),a=ee.replaceText(r,l,n,null,o),i=l.set("anchorOffset",l.getAnchorOffset()+n.length),s=te.set(e,{currentContent:a},"create-entity"),c=te.forceSelection(s,i);return console.log(i.getAnchorOffset(),"editor selection anchor offset after link insert:",c.getSelection().getAnchorOffset()),c}}})(o)),[Fe]:()=>u(Fe,{}),[Re]:()=>{},[ze]:()=>{u(ze,{})}},f={[Oe]:e=>h(ae.toggleInlineStyle(o,e)),[xe]:e=>h(ae.toggleBlockType(o,e)),[Pe]:e=>{y[e]()}};return{editorRef:r,editorState:o,computedPosForMentionSuggestions:c,focusedForEditing:i,getFileInputProps:()=>({ref:d,onChange:m}),generateLink:async t=>e.linkGeneratorFn&&"function"==typeof e.linkGeneratorFn?e.linkGeneratorFn(t):null,handleDroppedFiles:(e,t)=>g(t),handlePastedFiles:e=>g(e),handleEditorStateChange:h,handleKeyCommand:(e,t)=>{let n=ae.handleKeyCommand(t,e);return n?(h(n),"handled"):"not-handled"},handleToolClick:(e,t)=>(t.preventDefault(),o.getSelection().getHasFocus()&&null!=e&&e.element?void f[e.element](e.style):null),forceFocusEditorEnd:e=>{var t;(null==e?void 0:e.preventDefault)&&e.preventDefault(),null==(t=r.current.editor)||t.focus(),h(te.moveFocusToEnd(o))},updateComputedPosForMentionSuggestions:e=>p(e),handleMentionSelect:(e,t,n,r)=>{let l=ie.createEmpty(t),a=e.createEntity(Re,"IMMUTABLE",de({},r)),i=a.getLastCreatedEntityKey();a=ee.replaceText(e,l.merge({anchorOffset:n.start,focusOffset:n.end}),r.mention,o.getCurrentInlineStyle(),i),h(te.forceSelection(te.moveFocusToEnd(te.set(o,{currentContent:a})),a.getSelectionAfter()))},activateEditor:()=>s(!0),deactivateEditor:()=>s(!1),isToolActive:e=>o.getCurrentInlineStyle().has(null==e?void 0:e.style)||(null==o?void 0:o.getCurrentContent().getBlockForKey(null==o?void 0:o.getSelection().getStartKey()).getType())===(null==e?void 0:e.style)}}({handleUpload:o.handleUpload||async function(){},linkGeneratorFn:o.linkGeneratorFn,onDataStructureChange:o.onDataStructureChange||function(){},value:o.value||null}),i=de({},(ue(l),l));/*#__PURE__*/return G(He.Provider,{value:de({},i,{mentionSuggestions:o.mentionSuggestions||[]}),children:r})};function Ye(e){var t;return e.src||e.link?/*#__PURE__*/G("img",{src:e.src||e.link,alt:e.alt||(null==(t=e.storageInfo)?void 0:t.Key)||"...",className:"unselectable"}):null}function Je(){/*#__PURE__*/return G("hr",{})}function Ve({}){/*#__PURE__*/return G(e.Fragment,{})}const Ze=["editorRef","onResizeEnd","reference","currentSize"],We=[0,5,10,15,20,25,30,35,40,45,50,55,60,65,70,75,80,85,90,95,100];function Xe(t){var n,r;let{editorRef:o,onResizeEnd:l,reference:a="left",currentSize:i=10}=t,s=he(t,Ze),[c,p]=e.useState(!1),[d,u]=e.useState(i);const h=null==(n=o.current)||null==(r=n.editor)?void 0:r.getBoundingClientRect();let g=e.useCallback(e=>{e.preventDefault();const t=e=>{let t=[...We];p(!0);let n="center"===a?h.width/2:h.width,r=parseInt(Math.abs(e.clientX-("center"===a?h.left+h.width/2:"end"===a?h.left+h.width:h.left))),o=parseInt(r/n*100);t.sort((e,t)=>Math.abs(o-e)-Math.abs(o-t));let i=t[0];u(i),l&&l({partition:i});let c=s.block.getEntityAt(0);s.contentState.mergeEntityData(c,{size:i})},n=()=>{p(!1),document.removeEventListener("mousemove",t,!1),document.removeEventListener("mouseup",n,!1)};document.addEventListener("mousemove",t,!1),document.addEventListener("mouseup",n,!1)},[l]);/*#__PURE__*/return _(q,{children:[/*#__PURE__*/G("div",{className:"d-inline-block p-2 unselectable",style:{cursor:"col-resize"},onMouseDown:g,children:/*#__PURE__*/G("div",{className:"bg-primary rounded resize-bar"})}),c&&/*#__PURE__*/G("div",{className:"resize-guides-container position-absolute ",children:We.map(e=>(parseInt(window.getComputedStyle(document.querySelector(".draft-editor-container"),null).getPropertyValue("padding-left")),{percentage:e,pixels:Math.ceil(h.width*e/100)})).map(e=>/*#__PURE__*/G("div",{className:K("resize-guide position-absolute rounded",{"bg-info":"start"===a&&e.percentage===d||"end"===a&&100-e.percentage===d}),style:{left:e.pixels}},e.pixels))})]})}const Qe=["editorRef","onAlignmentChange"],et=[{label:"Align left",style:De,icon:"fa-solid fa-align-left"},{label:"Align center",style:"center",icon:"fa-solid fa-align-justify"},{label:"Align right",style:"end",icon:"fa-solid fa-align-right"}];function tt(e){let{onAlignmentChange:t}=e,n=he(e,Qe),r=o(({alignment:e})=>{t&&t({alignment:e});let r=n.block.getEntityAt(0);n.contentState.mergeEntityData(r,{alignment:e})},[t]);/*#__PURE__*/return G("div",{className:"d-inline-block shadow-md rounded mb-1",children:et.map(e=>/*#__PURE__*/G(s,{title:null==e?void 0:e.label,type:"button",className:K("btn btn-icon m-0 text-muted",{}),onClick:t=>r({alignment:null==e?void 0:e.style}),children:e.icon?/*#__PURE__*/G("i",{className:e.icon}):null==e?void 0:e.label},null==e?void 0:e.style))})}const nt=["children"];function rt(t){let{children:n}=t,r=he(t,nt),[o,l]=e.useState(!1),[a,i]=e.useState(r.size||30),[s,c]=e.useState(r.alignment||De),p=()=>({"justify-content-start":"start"===s,"justify-content-center":"center"===s,"justify-content-end":"end"===s});/*#__PURE__*/return _(q,{children:[o&&s&&/*#__PURE__*/G("div",{className:K("d-flex",p()),children:/*#__PURE__*/G(tt,de({onAlignmentChange:e=>c(e.alignment)},r))}),/*#__PURE__*/_("div",{className:K("d-flex align-items-center position-relative",p()),children:[o&&"start"!==s&&/*#__PURE__*/G(Xe,de({},r,{reference:s,onResizeEnd:e=>i(e.partition)})),/*#__PURE__*/G("div",{className:K("d-inline-block rounded resize-container unselectable",{"resize-focused":o,"w-10":10===a,"w-15":15===a,"w-20":20===a,"w-25":25===a,"w-30":30===a,"w-35":35===a,"w-40":40===a,"w-45":45===a,"w-50":50===a,"w-55":55===a,"w-60":60===a,"w-65":65===a,"w-70":70===a,"w-75":75===a,"w-80":80===a,"w-85":85===a,"w-90":90===a,"w-95":95===a,"w-100":100===a}),onClick:()=>l(e=>!e),children:n}),o&&"end"!==s&&/*#__PURE__*/G(Xe,de({},r,{reference:s,currentSize:a,onResizeEnd:e=>i(e.partition)}))]})]})}const ot=["type","data","editorControllers"];function lt(e){let{type:t,data:n,editorControllers:r}=e,o=null,l=de({},n,r,he(e,ot));return t===je&&(o=/*#__PURE__*/G(rt,de({},l,{children:/*#__PURE__*/G(Ye,de({},n))}))),t===Fe&&(o=/*#__PURE__*/G(Je,de({},n))),t===ze&&(o=/*#__PURE__*/G(Ve,de({},n))),o}const at=["generateLink"],it=e=>"atomic"===e.getType()?{component:st,editable:!1}:null,st=t=>{const n=t.block.getEntityAt(0),r=n&&t.contentState.getEntity(n),o=null==r?void 0:r.getType(),a=l(He),{generateLink:i}=a,s=he(a,at);let c=function(t){let[n,r]=e.useState(t.src);return e.useEffect(()=>(async function(){if(!t.src)try{if(!t.generateLink||"function"!=typeof t.generateLink)throw Error("link gnerator function must be supplied");let e=await t.generateLink(t.storageInfo);if(!e)throw new Error("link generator function must return a valid link or else provide a valid  image source");r(e)}catch(e){r(pe),console.log(e)}}(),()=>{}),[t.generateLink]),{link:n}}(de({generateLink:i},null==r?void 0:r.getData()));/*#__PURE__*/return G(lt,de({type:o,data:de({},null==r?void 0:r.getData(),c),editorControllers:de({},s)},t))},ct=["readOnly"];function pt(t){let{readOnly:n=!1}=t,r=he(t,ct);const{editorRef:o,editorState:l,handleEditorStateChange:a,handleDroppedFiles:i,handlePastedFiles:s,handleKeyCommand:c,activateEditor:p,deactivateEditor:d}=e.useContext(He);/*#__PURE__*/return G(q,{children:/*#__PURE__*/G(ce,{ref:o,blockRendererFn:it,placeholder:r.placeholder,onChange:a,editorState:l,spellCheck:!0,handleKeyCommand:c,handleDroppedFiles:i,handlePastedFiles:s,readOnly:n,onFocus:p,onBlur:d})})}const dt={INLINE_TYPES:[{label:"Underline",style:"UNDERLINE",icon:"fa-solid fa-underline",element:Oe},{label:"Bold",style:"BOLD",icon:"fa-solid fa-bold",element:Oe},{label:"Italic",style:"ITALIC",icon:"fa-solid fa-italic",element:Oe},{label:"Strike through",style:"STRIKETHROUGH",icon:"fa-solid fa-strikethrough",element:Oe}],BLOCK_TYPES:[{label:"Header",style:"header-three",icon:"fa-solid fa-heading",element:xe},{label:"UL",style:"unordered-list-item",icon:"fa-solid fa-list",element:xe},{label:"OL",style:"ordered-list-item",icon:"fa-solid fa-list-ol",element:xe},{label:"Blockquote",style:"blockquote",icon:"fa-solid fa-quote-left",element:xe},{label:"Code block",style:"code-block",icon:"fa-solid fa-code",element:xe}],ENTITY_TYPES:[{label:"Image",style:je,icon:"fa-solid fa-images",element:Pe},{label:"Divider",style:Fe,icon:"fa-solid fa-minus",element:Pe}]};function ut(e){/*#__PURE__*/return G("span",{className:"draft-toolbar-button-separator",children:"|"})}const ht=/*#__PURE__*/e.forwardRef((e,t)=>/*#__PURE__*/G("input",de({},e,{ref:t,className:"d-none",type:"file",accept:e.accept||"image/*"})));function gt(t){const{getFileInputProps:n,isToolActive:r,handleToolClick:o}=e.useContext(He);/*#__PURE__*/return _(q,{children:[/*#__PURE__*/G(ht,de({},n())),Object.keys(dt).map((t,n)=>{var l;/*#__PURE__*/return _(e.Fragment,{children:[null==(l=dt[t])?void 0:l.map(e=>/*#__PURE__*/G(s,{title:null==e?void 0:e.label,type:"button",className:"btn btn-icon text-muted mr-1",onMouseDown:t=>o(e,t),children:e.icon?/*#__PURE__*/G("i",{className:K(e.icon,{"text-primary":r(e)})}):null==e?void 0:e.label},null==e?void 0:e.style)),n<Object.keys(dt).length-1&&/*#__PURE__*/G(ut,{})]},t)})]})}function mt(t){const{forceFocusEditorEnd:n,focusedForEditing:r}=e.useContext(He);/*#__PURE__*/return _("div",{className:K("draft-editor-container d-flex flex-column",{"editor-disabled":t.readOnly,"editor-active":r}),children:[!t.readOnly&&/*#__PURE__*/_("div",{children:[/*#__PURE__*/G(gt,de({},t)),/*#__PURE__*/G("hr",{})]}),/*#__PURE__*/G(pt,de({},t)),/*#__PURE__*/G("div",{className:"flex-grow-1",onMouseDown:n})]})}function yt(e){/*#__PURE__*/return G($e,de({},e,{children:/*#__PURE__*/G(mt,de({},e))}))}yt.propTypes={value:i.string,linkGeneratorFn:i.func,handleUpload:i.func},Object.assign({},T.prototype.props);const ft=e=>{let t=de({},(ue(e),e));/*#__PURE__*/return G(T,de({},t,{children:t.children}))};ft.propTypes=de({},T.propTypes&&T.propTypes);const bt=["caret"];Object.assign({startIcon:"",endIcon:"",caret:!0},N.prototype.props);const vt=e=>{let t=he(e,bt);/*#__PURE__*/return G(q,{children:/*#__PURE__*/_(N,de({caret:!t.startIcon&&!t.endIcon&&t.caret},t,{children:[t.startIcon&&/*#__PURE__*/G("i",{className:K(t.startIcon,"me-2")}),t.children,t.endIcon&&/*#__PURE__*/G("i",{className:K(t.endIcon,"ms-2")})]}))})};vt.propTypes=de({startIcon:i.string,endIcon:i.string,caret:i.bool},N.propTypes&&N.propTypes);const Tt=["children"];var Nt;Object.assign({},null==(Nt=S.prototype)?void 0:Nt.props);const St=e=>{let{children:t}=e,n=he(e,Tt);/*#__PURE__*/return G(S,de({},n,{children:t}))};St.propTypes=de({},S.propTypes&&S.propTypes);const Ct=["children"];var kt;Object.assign({},null==(kt=C.prototype)?void 0:kt.props);const wt=e=>{let{children:t}=e,n=he(e,Ct);/*#__PURE__*/return G(C,de({},n,{children:t}))};wt.propTypes=de({},C.propTypes&&C.propTypes);const It=["children"];var Et;Object.assign({},null==(Et=k.prototype)?void 0:Et.props);const Ot=e=>{let{children:t}=e,n=he(e,It);/*#__PURE__*/return G(k,de({},n,{children:t}))};Ot.propTypes=de({},k.propTypes&&k.propTypes);const xt=["children"];var Pt;Object.assign({},null==(Pt=w.prototype)?void 0:Pt.props);const jt=e=>{let{children:t}=e,n=he(e,xt);/*#__PURE__*/return G(w,de({},n,{children:t}))};jt.propTypes=de({},w.propTypes&&w.propTypes);const Ft=["children"];var Lt;Object.assign({},null==(Lt=I.prototype)?void 0:Lt.props);const Rt=e=>{let{children:t}=e,n=he(e,Ft);/*#__PURE__*/return G(I,de({},n,{children:t}))};Rt.propTypes=de({},I.propTypes&&I.propTypes);const zt=["children"];Object.assign({},E.prototype.props);const Dt=e=>{let{children:t}=e,n=he(e,zt);/*#__PURE__*/return G(E,de({},n,{children:t}))};Dt.propTypes=de({},E.propTypes&&E.propTypes);const At=["children"];Object.assign({},O.prototype.props);const Mt=e=>{let{children:t}=e,n=he(e,At);/*#__PURE__*/return G(O,de({},n,{children:t}))};Mt.propTypes=de({},O.propTypes&&O.propTypes);const Bt=["children"];Object.assign({},x.prototype.props);const Ut=e=>{let{children:t}=e,n=he(e,Bt);/*#__PURE__*/return G(x,de({},n,{children:t}))};Ut.propTypes=de({},x.propTypes&&x.propTypes);const Kt=["children"];Object.assign({},P.prototype.props);const _t=e=>{let{children:t}=e,n=he(e,Kt);/*#__PURE__*/return G(P,de({},n,{children:t}))};_t.propTypes=de({},P.propTypes&&P.propTypes);const Gt=["children"];Object.assign({},j.prototype.props);const qt=e=>{let{children:t}=e,n=he(e,Gt);/*#__PURE__*/return G(j,de({},n,{children:t}))};qt.propTypes=de({},j.propTypes&&j.propTypes);const Ht=["children"];Object.assign({},F.prototype.props);const $t=e=>{let{children:t}=e,n=he(e,Ht);/*#__PURE__*/return G(F,de({},n,{children:t}))};$t.propTypes=de({},F.propTypes&&F.propTypes);const Yt=["children"];Object.assign({},L.prototype.props);const Jt=e=>{let{children:t}=e,n=he(e,Yt);/*#__PURE__*/return G(L,de({},n,{children:t}))};Jt.propTypes=de({},L.propTypes&&L.propTypes);const Vt=["children","separated"];Object.assign({separated:!1},R.prototype.props);const Zt=e=>{let{children:t,separated:n}=e,r=he(e,Vt);/*#__PURE__*/return G(R,de({className:K(r.className,{"pagination-separated":n})},r,{children:t}))};Zt.propTypes=de({separated:i.bool},R.propTypes&&R.propTypes);const Wt=["children"];Object.assign({},z.prototype.props);const Xt=e=>{let{children:t}=e,n=he(e,Wt);/*#__PURE__*/return G(z,de({},n,{children:t}))};Xt.propTypes=de({},z.propTypes&&z.propTypes);const Qt=["children","link"];Object.assign({},D.prototype.props);const en=e=>{let{children:t,link:n}=e,r=he(e,Qt);return n?/*#__PURE__*/G("span",{className:"page-link",children:t}):/*#__PURE__*/G(D,de({},r,{children:t}))};en.propTypes=de({},D.propTypes&&D.propTypes);const tn=["children"];var nn;Object.assign({},null==(nn=A.prototype)?void 0:nn.props);const rn=e=>{let{children:t}=e,n=he(e,tn);/*#__PURE__*/return G(A,de({},n,{children:t}))};rn.propTypes=de({},A.propTypes&&A.propTypes);const on=["children"];var ln;Object.assign({},null==(ln=M.prototype)?void 0:ln.props);const an=e=>{let{children:t}=e,n=he(e,on);/*#__PURE__*/return G(M,de({},n,{children:t}))};an.propTypes=de({},M.propTypes&&M.propTypes);const sn=["children"];var cn;Object.assign({},null==(cn=B.prototype)?void 0:cn.props);const pn=e=>{let{children:t}=e,n=he(e,sn);/*#__PURE__*/return G(B,de({},n,{children:t}))};pn.propTypes=de({},B.propTypes&&B.propTypes);const dn=["children"];var un;Object.assign({},null==(un=U.prototype)?void 0:un.props);const hn=e=>{let{children:t}=e;return he(e,dn),/*#__PURE__*/G(U,{children:t})};hn.propTypes=de({},hn.propTypes&&hn.propTypes);export{Ee as AdvancedTable,hn as Alert,ge as Button,me as Card,ye as CardBody,fe as CardFooter,be as CardHeader,ve as Dropdown,Ne as DropdownItem,ft as DropdownMenu,vt as DropdownToggle,St as ListBase,wt as ListGroupItem,Ot as ListGroupItemHeading,jt as ListGroupItemText,Rt as ListInlineItem,qt as Nav,$t as NavItem,Jt as NavLink,Dt as Navbar,Mt as NavbarBrand,Ut as NavbarText,_t as NavbarToggler,Zt as Pagination,Xt as PaginationItem,en as PaginationLink,Se as SimpleTable,rn as TabContent,an as TabPane,yt as TextEditor,pn as UncontrolledAlert};
//# sourceMappingURL=ims-ui-kit.modern.mjs.map
