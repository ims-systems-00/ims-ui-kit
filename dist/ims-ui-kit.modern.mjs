import e,{useState as t,useEffect as n,useMemo as r,useCallback as o,useContext as l,useRef as a}from"react";import i from"prop-types";import{Button as s,Card as c,CardBody as p,CardFooter as d,CardHeader as u,Dropdown as h,DropdownItem as g,Table as m,Row as y,Col as f,InputGroup as b,Input as v,DropdownMenu as T,DropdownToggle as N,List as C,ListGroupItem as S,ListGroupItemHeading as k,ListGroupItemText as w,ListInlineItem as E,Navbar as O,NavbarBrand as x,NavbarText as P,NavbarToggler as I,Nav as j,NavItem as F,NavLink as L,Pagination as R,PaginationItem as z,PaginationLink as D,TabContent as A,TabPane as M,UncontrolledAlert as B,Alert as U}from"reactstrap";import K from"classnames";import{jsxs as _,jsx as G,Fragment as q}from"react/jsx-runtime";import{useTable as H,useSortBy as Y,useExpanded as J,usePagination as V,useResizeColumns as Z,useFlexLayout as W}from"react-table";import X from"react-select";import{Modifier as $,EditorState as Q,CompositeDecorator as ee,ContentState as te,convertFromRaw as ne,convertToRaw as re,RichUtils as oe,SelectionState as le,AtomicBlockUtils as ae,Editor as ie}from"draft-js";import se from"assets/img/default-avatar.png";function ce(){return ce=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ce.apply(this,arguments)}function pe(e){if(null==e)throw new TypeError("Cannot destructure "+e)}function de(e,t){if(null==e)return{};var n,r,o={},l=Object.keys(e);for(r=0;r<l.length;r++)t.indexOf(n=l[r])>=0||(o[n]=e[n]);return o}Object.assign({leftIcon:"",rightIcon:""},s.prototype.props);const ue=e=>/*#__PURE__*/_(s,ce({},e,{children:[e.leftIcon?/*#__PURE__*/G("i",{className:K(e.leftIcon,"me-2")}):null,e.children,e.rightIcon?/*#__PURE__*/G("i",{className:K(e.rightIcon,"ms-2")}):null]}));ue.propTypes=ce({leftIcon:i.string,rightIcon:i.string},s.propTypes&&s.propTypes),Object.assign({},c.prototype.props);const he=e=>/*#__PURE__*/G(c,ce({},e,{children:e.children}));he.propTypes=ce({},c.propTypes&&c.propTypes),Object.assign({},p.prototype.props);const ge=e=>/*#__PURE__*/G(p,ce({},e,{children:e.children}));ge.propTypes=ce({},p.propTypes&&p.propTypes),Object.assign({},d.prototype.props);const me=e=>/*#__PURE__*/G(d,ce({},e,{children:e.children}));me.propTypes=ce({},d.propTypes&&d.propTypes),Object.assign({},u.prototype.props);const ye=e=>/*#__PURE__*/G(u,ce({},e,{children:e.children}));ye.propTypes=ce({},u.propTypes&&u.propTypes),Object.assign({},h.prototype.props);const fe=e=>{let t=ce({},(pe(e),e));/*#__PURE__*/return G(h,ce({},t,{children:t.children}))};fe.propTypes=ce({},h.propTypes&&h.propTypes),Object.assign({},g.prototype.props);const be=e=>{let t=ce({},(pe(e),e));/*#__PURE__*/return G(g,ce({},t,{children:t.children}))};be.propTypes=ce({},g.propTypes&&g.propTypes);const ve=e=>/*#__PURE__*/_(m,{striped:!0,hover:!0,children:[/*#__PURE__*/G("thead",{children:/*#__PURE__*/G("tr",{children:e.thead.map((t,n)=>/*#__PURE__*/G("th",{className:K("",{"text-right":e.thead.length-1===n}),children:t.text},n))})}),/*#__PURE__*/G("tbody",{children:e.tbody.map((e,t)=>/*#__PURE__*/_("tr",{className:K({[e.className]:void 0!==e.className}),children:[e.data.map((e,t)=>/*#__PURE__*/G("td",{className:K({[e.className]:void 0!==e.className}),children:e.item},t)),e.actions&&/*#__PURE__*/G("td",{className:"text-right",children:e.actions})]},t))})]});ve.propTypes={thead:i.arrayOf(i.shape({className:i.string,text:i.string.isRequired})).isRequired,tbody:i.arrayOf(i.shape({className:i.string,data:i.arrayOf(i.shape({className:i.string,item:i.oneOfType([i.string,i.number,i.node]).isRequired})).isRequired,actions:i.node})).isRequired};const Te=({onFilter:r=(()=>{}),onSearch:o=(()=>{}),filters:l=[]})=>{let[a,i]=e.useState("");const s=function(e,r){const[o,l]=t(e);return n(()=>{const t=setTimeout(()=>{l(e)},500);return()=>{clearTimeout(t)}},[e,500]),o}(a);return e.useEffect(()=>{o({value:{clientSearch:s}})},[s]),/*#__PURE__*/_(y,{children:[/*#__PURE__*/G(f,{md:"3",children:/*#__PURE__*/G(X,{className:"react-select default m-0 w-100",classNamePrefix:"react-select",name:"singleSelect",onChange:e=>{r(e)},defaultValue:l.find(e=>e.default),options:l,placeholder:"Select filter"})}),/*#__PURE__*/G(f,{md:"6",children:/*#__PURE__*/G(b,{children:/*#__PURE__*/G(v,{onChange:e=>i(e.currentTarget.value.toString()),placeholder:"Search item"})})})]})},Ne="...",Ce=(e,t)=>Array.from({length:t-e+1},(t,n)=>n+e),Se=e=>{const{onPageChange:t=(()=>{}),totalCount:n=0,siblingCount:o=1,currentPage:l=1,pageSize:a=10}=e,i=(({totalCount:e,pageSize:t,siblingCount:n=1,currentPage:o})=>r(()=>{const r=Math.ceil(e/t);if(n+5>=r)return Ce(1,r);const l=Math.max(o-n,1),a=Math.min(o+n,r),i=l>2,s=a<r-2,c=r;if(!i&&s)return[...Ce(1,3+2*n),Ne,r];if(i&&!s){let e=Ce(r-(3+2*n)+1,r);return[1,Ne,...e]}if(i&&s){let e=Ce(l,a);return[1,Ne,...e,Ne,c]}},[e,t,n,o]))({currentPage:l,totalCount:n,siblingCount:o,pageSize:a});if(0===l||i.length<2)return null;let s=i[i.length-1];/*#__PURE__*/return G(q,{children:/*#__PURE__*/G("nav",{"aria-label":"Page navigation",children:/*#__PURE__*/_("ul",{className:"pagination",children:[/*#__PURE__*/G("li",{className:"page-item",children:/*#__PURE__*/_("button",{onClick:()=>{t&&t(l-1)},className:"page-link","aria-label":"Next",children:[/*#__PURE__*/G("span",{"aria-hidden":"true",children:"«"}),/*#__PURE__*/G("span",{className:"sr-only",children:"Previous"})]})},"first-button"),i.map((e,n)=>e===Ne?/*#__PURE__*/G("li",{className:"pagination-item dots",children:"…"},Ne+n):/*#__PURE__*/G("li",{className:`page-item ${l===e&&" active"}`,children:/*#__PURE__*/G("button",{className:"page-link",onClick:()=>t(e),children:e})},e)),/*#__PURE__*/G("li",{className:"page-item",children:/*#__PURE__*/_("button",{disabled:l===s,className:"page-link",onClick:()=>{t&&t(l+1)},"aria-label":"Next",children:[/*#__PURE__*/G("span",{"aria-hidden":"true",children:"»"}),/*#__PURE__*/G("span",{className:"sr-only",children:"Next"})]})},"next-button")]})})})};function ke({columns:t,data:n,renderRowSubComponent:r,rowProps:o=(()=>({})),className:l="-highlight -striped ",handleSearch:a=(()=>{}),handleFilter:i=(()=>{}),handlePagination:s=(()=>{}),filters:c=[],pagination:p={currentPage:1,hasNextPage:!0,hasPrevPage:!1,nextPage:2,prevPage:null,size:10,totalPages:2,totalResults:17}}){const{getTableProps:d,getTableBodyProps:u,headerGroups:h,page:g,prepareRow:m,state:{},visibleColumns:y}=H({columns:t,data:n,initialState:{pageSize:10,pageIndex:0}},Y,J,V,Z,W);/*#__PURE__*/return G(q,{children:/*#__PURE__*/_("div",{className:"ReactTable "+l,children:[/*#__PURE__*/G("div",{className:"pagination-top",children:/*#__PURE__*/G(Te,{filters:c,onFilter:e=>i(e),onSearch:e=>a(e)})}),/*#__PURE__*/_("table",ce({},d(),{className:"rt-table",children:[/*#__PURE__*/G("thead",{className:"rt-thead -header",children:h.map(e=>/*#__PURE__*/G("tr",ce({},e.getHeaderGroupProps(),{className:"rt-tr",children:e.headers.map((t,n)=>/*#__PURE__*/_("th",ce({},t.getHeaderProps(t.getSortByToggleProps()),{className:K("rt-th rt-resizable-header",{"-cursor-pointer":e.headers.length-1!==n,"-sort-asc":t.isSorted&&!t.isSortedDesc,"-sort-desc":t.isSorted&&t.isSortedDesc}),children:[/*#__PURE__*/_("div",{className:"rt-resizable-header-content",children:[t.render("Header"),/*#__PURE__*/G("div",ce({},t.getResizerProps(),{className:K("col-resizer",{" active":t.isResizing})}))]}),/*#__PURE__*/G("div",{children:e.headers.length-1===n?null:t.canFilter?t.render("Filter"):null})]})))})))}),/*#__PURE__*/G("tbody",ce({},u(),{className:"rt-tbody",children:g.map((t,n)=>{var l;m(t);const a=K("rt-tr",{" -odd":n%2==0},{" -even":n%2==1});/*#__PURE__*/return _(e.Fragment,{children:[/*#__PURE__*/G("tr",ce({className:a},t.getRowProps(o(ce({},t,{className:a}))),{children:t.cells.map(e=>/*#__PURE__*/G("td",ce({},e.getCellProps(),{className:"rt-td",children:e.render("Cell")})))})),t.isExpanded?/*#__PURE__*/G("tr",{children:/*#__PURE__*/G("td",{colSpan:y.length,children:r&&r({row:t})})}):null]},null==(l=t.getRowProps())?void 0:l.key)})}))]})),/*#__PURE__*/G("div",{className:"pagination-bottom",children:/*#__PURE__*/G("div",{className:"-pagination",children:/*#__PURE__*/G("div",{className:"-center flex-nowrap",children:/*#__PURE__*/G(Se,{className:"pagination-bar",pagination:p,currentPage:p.currentPage,totalCount:p.totalResults,pageSize:p.size,onPageChange:e=>{s({page:e})}})})})})]})})}const we="inline-default",Ee="block-default",Oe="atomic-entity",xe="image",Pe="divider",Ie="link",je="mention",Fe="checklist",Le="start";function Re({name:e,profileImageUrl:t,_id:n,onSelect:r=(()=>{})}){let l=o(o=>{o.preventDefault(),r({name:e,profileImageUrl:t,_id:n})});/*#__PURE__*/return _("div",{className:"d-flex align-items-center",children:[/*#__PURE__*/G("div",{className:"avatar mb-1",children:/*#__PURE__*/G("img",{src:t||se,alt:e})}),/*#__PURE__*/G("div",{onClick:l,className:"btn btn-link p-2 mb-1",children:e})]})}const ze=["suggestions"];function De(e){let{suggestions:t}=e,n=de(e,ze),{computedPosForMentionSuggestions:r}=l(_e);/*#__PURE__*/return G(q,{children:t.length?/*#__PURE__*/G("div",{className:"mention-suggestions position-absolute mt-4 p-2 shadow-md",style:ce({},r),children:t.map((e,t)=>/*#__PURE__*/G(Re,ce({},e,n),e.name+t))}):null})}function Ae(e,t,n){const r=t.getText();let o,l;for(;null!==(o=e.exec(r));)l=o.index,n(l,l+o[0].length)}const Me=/\B@\w+/g,Be=/(http(s)?:\/\/.)?(www\.)?[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\+.~#?&//=]*)/g,Ue=new ee([{strategy:function(e,t,n){Ae(Me,e,t)},component:function(e){let t=a(null),{editorRef:r,mentionSuggestions:i,updateComputedPosForMentionSuggestions:s,handleMentionSelect:c}=l(_e);const p=o(()=>{var e,n;return{left:(null==(e=r.current)||null==(n=e.editor)?void 0:n.getBoundingClientRect()).width-t.current.offsetLeft<240?t.current.offsetLeft-230:t.current.offsetLeft,top:t.current.offsetTop,display:"block"}},[]),d=o(()=>({display:"none"}),[]);function u(){if(!e.entityKey)return null;const t=e.contentState.getEntity(e.entityKey);return ce({},null==t?void 0:t.getData())}return n(()=>{t.current&&s(p())},[]),/*#__PURE__*/_(q,{children:[u()?/*#__PURE__*/G("a",{href:"/admin/users/"+u()._id,className:"text-primary",children:u().name}):/*#__PURE__*/G("span",{ref:t,className:"",children:e.children}),/*#__PURE__*/G(De,{suggestions:i.filter(t=>{var n;return t.name.toLowerCase().includes(e.decoratedText.slice(1,null==e||null==(n=e.decoratedText)?void 0:n.length).toLowerCase())}),onSelect:({name:t,profileImageUrl:n,_id:r})=>{let o="@"+t.split(" ").join("_");c(e.contentState,e.blockKey,{start:e.start,end:e.end},{mention:o+" ",profileImageUrl:n,_id:r,name:t}),s(d())}})]})}},{strategy:function(e,t,n){Ae(Be,e,t)},component:function(e){/*#__PURE__*/return G("a",{href:e.decoratedText,title:e.decoratedText,target:"_blank",rel:"noreferrer",children:e.children})}},{strategy:(e,t,n)=>{e.findEntityRanges(e=>{const t=e.getEntity();return null!==t&&n.getEntity(t).getType()===Ie},t)},component:function(e){let t=e.contentState.getEntity(e.entityKey).getData();return t.href?/*#__PURE__*/G("a",{href:t.href,title:t.linkText,target:"_blank",rel:"noreferrer",children:t.linkText||t.href}):null}}]),Ke=["children"],_e=/*#__PURE__*/e.createContext(),Ge=e=>{let{children:r}=e,o=de(e,Ke),l=function(e){const r=a(null),[o,l]=t(Q.createEmpty(Ue)),[i,s]=t(!1),[c,p]=t({display:"none"});n(()=>{let t;try{"string"==typeof e.value&&(t=JSON.parse(e.value)),"object"==typeof e.value&&(t=e.value)}catch(t){if(console.log(t),"string"==typeof e.value)return h(Q.createWithContent(te.createFromText(e.value)))}return h(e.value||t?Q.push(o,ne(t),"change-block-data"):Q.createEmpty(Ue))},[]);const d=a(null),u=(e,t)=>{const n=o.getCurrentContent().createEntity(e,"IMMUTABLE",ce({},t)),r=n.getLastCreatedEntityKey(),l=Q.set(o,{currentContent:n},"create-entity");h(ae.insertAtomicBlock(l,r," "))},h=t=>{const n=t.getCurrentContent();l(t),e.onDataStructureChange(JSON.stringify(re(n)))},g=async t=>{if(!e.handleUpload)return console.log("Uploader function not specified");if(!t.every(e=>"image"===e.type.split("/")[0]))return console.log("All files has to be images");try{let n=await Promise.all(t.map(t=>e.handleUpload(t)));console.log(n),n.every(e=>e)||console.log("one or mutiple files don't have storage info"),n.map(e=>u(xe,{storageInfo:e}))}catch(e){return console.log(e)}},m=e=>{e.preventDefault(),g(Array.from(e.target.files))},y={[xe]:()=>d.current.click(),[Ie]:()=>h((e=>{let t=window.prompt("Paste the link bellow:");if(t){let n=window.prompt("Paste the link-text below:");if(n){const r=e.getCurrentContent();r.createEntity(Ie,"MUTABLE",{href:t,linkText:n});let o=r.getLastCreatedEntityKey();const l=e.getSelection(),a=$.replaceText(r,l,n,null,o),i=l.set("anchorOffset",l.getAnchorOffset()+n.length),s=Q.set(e,{currentContent:a},"create-entity"),c=Q.forceSelection(s,i);return console.log(i.getAnchorOffset(),"editor selection anchor offset after link insert:",c.getSelection().getAnchorOffset()),c}}})(o)),[Pe]:()=>u(Pe,{}),[je]:()=>{},[Fe]:()=>{u(Fe,{})}},f={[we]:e=>h(oe.toggleInlineStyle(o,e)),[Ee]:e=>h(oe.toggleBlockType(o,e)),[Oe]:e=>{y[e]()}};return{editorRef:r,editorState:o,computedPosForMentionSuggestions:c,focusedForEditing:i,getFileInputProps:()=>({ref:d,onChange:m}),generateLink:async t=>e.linkGeneratorFn&&"function"==typeof e.linkGeneratorFn?e.linkGeneratorFn(t):null,handleDroppedFiles:(e,t)=>g(t),handlePastedFiles:e=>g(e),handleEditorStateChange:h,handleKeyCommand:(e,t)=>{let n=oe.handleKeyCommand(t,e);return n?(h(n),"handled"):"not-handled"},handleToolClick:(e,t)=>(t.preventDefault(),o.getSelection().getHasFocus()&&null!=e&&e.element?void f[e.element](e.style):null),forceFocusEditorEnd:e=>{var t;(null==e?void 0:e.preventDefault)&&e.preventDefault(),null==(t=r.current.editor)||t.focus(),h(Q.moveFocusToEnd(o))},updateComputedPosForMentionSuggestions:e=>p(e),handleMentionSelect:(e,t,n,r)=>{let l=le.createEmpty(t),a=e.createEntity(je,"IMMUTABLE",ce({},r)),i=a.getLastCreatedEntityKey();a=$.replaceText(e,l.merge({anchorOffset:n.start,focusOffset:n.end}),r.mention,o.getCurrentInlineStyle(),i),h(Q.forceSelection(Q.moveFocusToEnd(Q.set(o,{currentContent:a})),a.getSelectionAfter()))},activateEditor:()=>s(!0),deactivateEditor:()=>s(!1),isToolActive:e=>o.getCurrentInlineStyle().has(null==e?void 0:e.style)||(null==o?void 0:o.getCurrentContent().getBlockForKey(null==o?void 0:o.getSelection().getStartKey()).getType())===(null==e?void 0:e.style)}}({handleUpload:o.handleUpload||async function(){},linkGeneratorFn:o.linkGeneratorFn,onDataStructureChange:o.onDataStructureChange||function(){},value:o.value||null}),i=ce({},(pe(l),l));/*#__PURE__*/return G(_e.Provider,{value:ce({},i,{mentionSuggestions:o.mentionSuggestions||[]}),children:r})};function qe(e){var t;return e.src||e.link?/*#__PURE__*/G("img",{src:e.src||e.link,alt:e.alt||(null==(t=e.storageInfo)?void 0:t.Key)||"...",className:"unselectable"}):null}function He(){/*#__PURE__*/return G("hr",{})}function Ye({}){/*#__PURE__*/return G(e.Fragment,{})}const Je=["editorRef","onResizeEnd","reference","currentSize"],Ve=[0,5,10,15,20,25,30,35,40,45,50,55,60,65,70,75,80,85,90,95,100];function Ze(t){var n,r;let{editorRef:o,onResizeEnd:l,reference:a="left",currentSize:i=10}=t,s=de(t,Je),[c,p]=e.useState(!1),[d,u]=e.useState(i);const h=null==(n=o.current)||null==(r=n.editor)?void 0:r.getBoundingClientRect();let g=e.useCallback(e=>{e.preventDefault();const t=e=>{let t=[...Ve];p(!0);let n="center"===a?h.width/2:h.width,r=parseInt(Math.abs(e.clientX-("center"===a?h.left+h.width/2:"end"===a?h.left+h.width:h.left))),o=parseInt(r/n*100);t.sort((e,t)=>Math.abs(o-e)-Math.abs(o-t));let i=t[0];u(i),l&&l({partition:i});let c=s.block.getEntityAt(0);s.contentState.mergeEntityData(c,{size:i})},n=()=>{p(!1),document.removeEventListener("mousemove",t,!1),document.removeEventListener("mouseup",n,!1)};document.addEventListener("mousemove",t,!1),document.addEventListener("mouseup",n,!1)},[l]);/*#__PURE__*/return _(q,{children:[/*#__PURE__*/G("div",{className:"d-inline-block p-2 unselectable",style:{cursor:"col-resize"},onMouseDown:g,children:/*#__PURE__*/G("div",{className:"bg-primary rounded resize-bar"})}),c&&/*#__PURE__*/G("div",{className:"resize-guides-container position-absolute ",children:Ve.map(e=>(parseInt(window.getComputedStyle(document.querySelector(".draft-editor-container"),null).getPropertyValue("padding-left")),{percentage:e,pixels:Math.ceil(h.width*e/100)})).map(e=>/*#__PURE__*/G("div",{className:K("resize-guide position-absolute rounded",{"bg-info":"start"===a&&e.percentage===d||"end"===a&&100-e.percentage===d}),style:{left:e.pixels}},e.pixels))})]})}const We=["editorRef","onAlignmentChange"],Xe=[{label:"Align left",style:Le,icon:"fa-solid fa-align-left"},{label:"Align center",style:"center",icon:"fa-solid fa-align-justify"},{label:"Align right",style:"end",icon:"fa-solid fa-align-right"}];function $e(e){let{onAlignmentChange:t}=e,n=de(e,We),r=o(({alignment:e})=>{t&&t({alignment:e});let r=n.block.getEntityAt(0);n.contentState.mergeEntityData(r,{alignment:e})},[t]);/*#__PURE__*/return G("div",{className:"d-inline-block shadow-md rounded mb-1",children:Xe.map(e=>/*#__PURE__*/G(s,{title:null==e?void 0:e.label,type:"button",className:K("btn btn-icon m-0 text-muted",{}),onClick:t=>r({alignment:null==e?void 0:e.style}),children:e.icon?/*#__PURE__*/G("i",{className:e.icon}):null==e?void 0:e.label},null==e?void 0:e.style))})}const Qe=["children"];function et(t){let{children:n}=t,r=de(t,Qe),[o,l]=e.useState(!1),[a,i]=e.useState(r.size||30),[s,c]=e.useState(r.alignment||Le),p=()=>({"justify-content-start":"start"===s,"justify-content-center":"center"===s,"justify-content-end":"end"===s});/*#__PURE__*/return _(q,{children:[o&&s&&/*#__PURE__*/G("div",{className:K("d-flex",p()),children:/*#__PURE__*/G($e,ce({onAlignmentChange:e=>c(e.alignment)},r))}),/*#__PURE__*/_("div",{className:K("d-flex align-items-center position-relative",p()),children:[o&&"start"!==s&&/*#__PURE__*/G(Ze,ce({},r,{reference:s,onResizeEnd:e=>i(e.partition)})),/*#__PURE__*/G("div",{className:K("d-inline-block rounded resize-container unselectable",{"resize-focused":o,"w-10":10===a,"w-15":15===a,"w-20":20===a,"w-25":25===a,"w-30":30===a,"w-35":35===a,"w-40":40===a,"w-45":45===a,"w-50":50===a,"w-55":55===a,"w-60":60===a,"w-65":65===a,"w-70":70===a,"w-75":75===a,"w-80":80===a,"w-85":85===a,"w-90":90===a,"w-95":95===a,"w-100":100===a}),onClick:()=>l(e=>!e),children:n}),o&&"end"!==s&&/*#__PURE__*/G(Ze,ce({},r,{reference:s,currentSize:a,onResizeEnd:e=>i(e.partition)}))]})]})}const tt=["type","data","editorControllers"];function nt(e){let{type:t,data:n,editorControllers:r}=e,o=null,l=ce({},n,r,de(e,tt));return t===xe&&(o=/*#__PURE__*/G(et,ce({},l,{children:/*#__PURE__*/G(qe,ce({},n))}))),t===Pe&&(o=/*#__PURE__*/G(He,ce({},n))),t===Fe&&(o=/*#__PURE__*/G(Ye,ce({},n))),o}const rt=["generateLink"],ot=e=>"atomic"===e.getType()?{component:lt,editable:!1}:null,lt=t=>{const n=t.block.getEntityAt(0),r=n&&t.contentState.getEntity(n),o=null==r?void 0:r.getType(),a=l(_e),{generateLink:i}=a,s=de(a,rt);let c=function(t){let[n,r]=e.useState(t.src);return e.useEffect(()=>(async function(){if(!t.src)try{if(!t.generateLink||"function"!=typeof t.generateLink)throw Error("link gnerator function must be supplied");let e=await t.generateLink(t.storageInfo);if(!e)throw new Error("link generator function must return a valid link or else provide a valid  image source");r(e)}catch(e){r(se),console.log(e)}}(),()=>{}),[t.generateLink]),{link:n}}(ce({generateLink:i},null==r?void 0:r.getData()));/*#__PURE__*/return G(nt,ce({type:o,data:ce({},null==r?void 0:r.getData(),c),editorControllers:ce({},s)},t))},at=["readOnly"];function it(t){let{readOnly:n=!1}=t,r=de(t,at);const{editorRef:o,editorState:l,handleEditorStateChange:a,handleDroppedFiles:i,handlePastedFiles:s,handleKeyCommand:c,activateEditor:p,deactivateEditor:d}=e.useContext(_e);/*#__PURE__*/return G(q,{children:/*#__PURE__*/G(ie,{ref:o,blockRendererFn:ot,placeholder:r.placeholder,onChange:a,editorState:l,spellCheck:!0,handleKeyCommand:c,handleDroppedFiles:i,handlePastedFiles:s,readOnly:n,onFocus:p,onBlur:d})})}const st={INLINE_TYPES:[{label:"Underline",style:"UNDERLINE",icon:"fa-solid fa-underline",element:we},{label:"Bold",style:"BOLD",icon:"fa-solid fa-bold",element:we},{label:"Italic",style:"ITALIC",icon:"fa-solid fa-italic",element:we},{label:"Strike through",style:"STRIKETHROUGH",icon:"fa-solid fa-strikethrough",element:we}],BLOCK_TYPES:[{label:"Header",style:"header-three",icon:"fa-solid fa-heading",element:Ee},{label:"UL",style:"unordered-list-item",icon:"fa-solid fa-list",element:Ee},{label:"OL",style:"ordered-list-item",icon:"fa-solid fa-list-ol",element:Ee},{label:"Blockquote",style:"blockquote",icon:"fa-solid fa-quote-left",element:Ee},{label:"Code block",style:"code-block",icon:"fa-solid fa-code",element:Ee}],ENTITY_TYPES:[{label:"Image",style:xe,icon:"fa-solid fa-images",element:Oe},{label:"Divider",style:Pe,icon:"fa-solid fa-minus",element:Oe}]};function ct(e){/*#__PURE__*/return G("span",{className:"draft-toolbar-button-separator",children:"|"})}const pt=/*#__PURE__*/e.forwardRef((e,t)=>/*#__PURE__*/G("input",ce({},e,{ref:t,className:"d-none",type:"file",accept:e.accept||"image/*"})));function dt(t){const{getFileInputProps:n,isToolActive:r,handleToolClick:o}=e.useContext(_e);/*#__PURE__*/return _(q,{children:[/*#__PURE__*/G(pt,ce({},n())),Object.keys(st).map((t,n)=>{var l;/*#__PURE__*/return _(e.Fragment,{children:[null==(l=st[t])?void 0:l.map(e=>/*#__PURE__*/G(s,{title:null==e?void 0:e.label,type:"button",className:"btn btn-icon text-muted mr-1",onMouseDown:t=>o(e,t),children:e.icon?/*#__PURE__*/G("i",{className:K(e.icon,{"text-primary":r(e)})}):null==e?void 0:e.label},null==e?void 0:e.style)),n<Object.keys(st).length-1&&/*#__PURE__*/G(ct,{})]},t)})]})}function ut(t){const{forceFocusEditorEnd:n,focusedForEditing:r}=e.useContext(_e);/*#__PURE__*/return _("div",{className:K("draft-editor-container d-flex flex-column",{"editor-disabled":t.readOnly,"editor-active":r}),children:[!t.readOnly&&/*#__PURE__*/_("div",{children:[/*#__PURE__*/G(dt,ce({},t)),/*#__PURE__*/G("hr",{})]}),/*#__PURE__*/G(it,ce({},t)),/*#__PURE__*/G("div",{className:"flex-grow-1",onMouseDown:n})]})}function ht(e){/*#__PURE__*/return G(Ge,ce({},e,{children:/*#__PURE__*/G(ut,ce({},e))}))}ht.propTypes={value:i.string,linkGeneratorFn:i.func,handleUpload:i.func},Object.assign({},T.prototype.props);const gt=e=>{let t=ce({},(pe(e),e));/*#__PURE__*/return G(T,ce({},t,{children:t.children}))};gt.propTypes=ce({},T.propTypes&&T.propTypes),Object.assign({},N.prototype.props);const mt=e=>{let t=ce({},(pe(e),e));/*#__PURE__*/return G(q,{children:/*#__PURE__*/_(N,ce({},t,{children:[t.startIcon&&/*#__PURE__*/G("i",{className:K(t.startIcon,"me-2")}),t.children]}))})};mt.propTypes=ce({},N.propTypes&&N.propTypes);const yt=["children"];var ft;Object.assign({},null==(ft=C.prototype)?void 0:ft.props);const bt=e=>{let{children:t}=e,n=de(e,yt);/*#__PURE__*/return G(C,ce({},n,{children:t}))};bt.propTypes=ce({},C.propTypes&&C.propTypes);const vt=["children"];var Tt;Object.assign({},null==(Tt=S.prototype)?void 0:Tt.props);const Nt=e=>{let{children:t}=e,n=de(e,vt);/*#__PURE__*/return G(S,ce({},n,{children:t}))};Nt.propTypes=ce({},S.propTypes&&S.propTypes);const Ct=["children"];var St;Object.assign({},null==(St=k.prototype)?void 0:St.props);const kt=e=>{let{children:t}=e,n=de(e,Ct);/*#__PURE__*/return G(k,ce({},n,{children:t}))};kt.propTypes=ce({},k.propTypes&&k.propTypes);const wt=["children"];var Et;Object.assign({},null==(Et=w.prototype)?void 0:Et.props);const Ot=e=>{let{children:t}=e,n=de(e,wt);/*#__PURE__*/return G(w,ce({},n,{children:t}))};Ot.propTypes=ce({},w.propTypes&&w.propTypes);const xt=["children"];var Pt;Object.assign({},null==(Pt=E.prototype)?void 0:Pt.props);const It=e=>{let{children:t}=e,n=de(e,xt);/*#__PURE__*/return G(E,ce({},n,{children:t}))};It.propTypes=ce({},E.propTypes&&E.propTypes);const jt=["children"];Object.assign({},O.prototype.props);const Ft=e=>{let{children:t}=e,n=de(e,jt);/*#__PURE__*/return G(O,ce({},n,{children:t}))};Ft.propTypes=ce({},O.propTypes&&O.propTypes);const Lt=["children"];Object.assign({},x.prototype.props);const Rt=e=>{let{children:t}=e,n=de(e,Lt);/*#__PURE__*/return G(x,ce({},n,{children:t}))};Rt.propTypes=ce({},x.propTypes&&x.propTypes);const zt=["children"];Object.assign({},P.prototype.props);const Dt=e=>{let{children:t}=e,n=de(e,zt);/*#__PURE__*/return G(P,ce({},n,{children:t}))};Dt.propTypes=ce({},P.propTypes&&P.propTypes);const At=["children"];Object.assign({},I.prototype.props);const Mt=e=>{let{children:t}=e,n=de(e,At);/*#__PURE__*/return G(I,ce({},n,{children:t}))};Mt.propTypes=ce({},I.propTypes&&I.propTypes);const Bt=["children"];Object.assign({},j.prototype.props);const Ut=e=>{let{children:t}=e,n=de(e,Bt);/*#__PURE__*/return G(j,ce({},n,{children:t}))};Ut.propTypes=ce({},j.propTypes&&j.propTypes);const Kt=["children"];Object.assign({},F.prototype.props);const _t=e=>{let{children:t}=e,n=de(e,Kt);/*#__PURE__*/return G(F,ce({},n,{children:t}))};_t.propTypes=ce({},F.propTypes&&F.propTypes);const Gt=["children"];Object.assign({},L.prototype.props);const qt=e=>{let{children:t}=e,n=de(e,Gt);/*#__PURE__*/return G(L,ce({},n,{children:t}))};qt.propTypes=ce({},L.propTypes&&L.propTypes);const Ht=["children","separated"];Object.assign({separated:!1},R.prototype.props);const Yt=e=>{let{children:t,separated:n}=e,r=de(e,Ht);/*#__PURE__*/return G(R,ce({className:K(r.className,{"pagination-separated":n})},r,{children:t}))};Yt.propTypes=ce({separated:i.bool},R.propTypes&&R.propTypes);const Jt=["children"];Object.assign({},z.prototype.props);const Vt=e=>{let{children:t}=e,n=de(e,Jt);/*#__PURE__*/return G(z,ce({},n,{children:t}))};Vt.propTypes=ce({},z.propTypes&&z.propTypes);const Zt=["children","link"];Object.assign({},D.prototype.props);const Wt=e=>{let{children:t,link:n}=e,r=de(e,Zt);return n?/*#__PURE__*/G("span",{className:"page-link",children:t}):/*#__PURE__*/G(D,ce({},r,{children:t}))};Wt.propTypes=ce({},D.propTypes&&D.propTypes);const Xt=["children"];var $t;Object.assign({},null==($t=A.prototype)?void 0:$t.props);const Qt=e=>{let{children:t}=e,n=de(e,Xt);/*#__PURE__*/return G(A,ce({},n,{children:t}))};Qt.propTypes=ce({},A.propTypes&&A.propTypes);const en=["children"];var tn;Object.assign({},null==(tn=M.prototype)?void 0:tn.props);const nn=e=>{let{children:t}=e,n=de(e,en);/*#__PURE__*/return G(M,ce({},n,{children:t}))};nn.propTypes=ce({},M.propTypes&&M.propTypes);const rn=["children"];var on;Object.assign({},null==(on=B.prototype)?void 0:on.props);const ln=e=>{let{children:t}=e,n=de(e,rn);/*#__PURE__*/return G(B,ce({},n,{children:t}))};ln.propTypes=ce({},B.propTypes&&B.propTypes);const an=["children"];var sn;Object.assign({},null==(sn=U.prototype)?void 0:sn.props);const cn=e=>{let{children:t}=e;return de(e,an),/*#__PURE__*/G(U,{children:t})};cn.propTypes=ce({},cn.propTypes&&cn.propTypes);export{ke as AdvancedTable,cn as Alert,ue as Button,he as Card,ge as CardBody,me as CardFooter,ye as CardHeader,fe as Dropdown,be as DropdownItem,gt as DropdownMenu,mt as DropdownToggle,bt as ListBase,Nt as ListGroupItem,kt as ListGroupItemHeading,Ot as ListGroupItemText,It as ListInlineItem,Ut as Nav,_t as NavItem,qt as NavLink,Ft as Navbar,Rt as NavbarBrand,Dt as NavbarText,Mt as NavbarToggler,Yt as Pagination,Vt as PaginationItem,Wt as PaginationLink,ve as SimpleTable,Qt as TabContent,nn as TabPane,ht as TextEditor,ln as UncontrolledAlert};
//# sourceMappingURL=ims-ui-kit.modern.mjs.map
