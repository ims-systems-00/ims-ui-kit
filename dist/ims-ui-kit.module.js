import e,{useState as n,useEffect as t,useMemo as r,useCallback as i,useContext as o,useRef as a}from"react";import l from"prop-types";import{Button as c,Card as s,CardBody as u,CardFooter as d,CardHeader as p,Dropdown as f,DropdownToggle as g,DropdownMenu as h,DropdownItem as m,Table as v,Row as y,Col as b,InputGroup as T,Input as N,Pagination as S,PaginationItem as C,PaginationLink as k,List as w,ListGroupItem as P,ListGroupItemHeading as E,ListGroupItemText as I,TabContent as x,TabPane as O}from"reactstrap";import F from"classnames";import{jsxs as j,jsx as L,Fragment as R}from"react/jsx-runtime";import{useTable as D,useSortBy as z,useExpanded as A,usePagination as M,useResizeColumns as B,useFlexLayout as U}from"react-table";import K from"react-select";import{Modifier as _,EditorState as G,CompositeDecorator as q,ContentState as H,convertFromRaw as Y,convertToRaw as J,RichUtils as V,AtomicBlockUtils as W,SelectionState as Z,Editor as X}from"draft-js";import Q from"assets/img/default-avatar.png";function $(){return $=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},$.apply(this,arguments)}function ee(e){if(null==e)throw new TypeError("Cannot destructure "+e)}function ne(e,n){if(null==e)return{};var t,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n.indexOf(t=o[r])>=0||(i[t]=e[t]);return i}Object.assign({leftIcon:"",rightIcon:""},c.prototype.props);var te=function(e){/*#__PURE__*/return j(c,$({},e,{children:[e.leftIcon?/*#__PURE__*/L("i",{className:F(e.leftIcon,"me-2")}):null,e.children,e.rightIcon?/*#__PURE__*/L("i",{className:F(e.rightIcon,"ms-2")}):null]}))};te.propTypes=$({leftIcon:l.string,rightIcon:l.string},c.propTypes&&c.propTypes),Object.assign({},s.prototype.props);var re=function(e){/*#__PURE__*/return L(s,$({},e,{children:e.children}))};re.propTypes=$({},s.propTypes&&s.propTypes),Object.assign({},u.prototype.props);var ie=function(e){/*#__PURE__*/return L(u,$({},e,{children:e.children}))};ie.propTypes=$({},u.propTypes&&u.propTypes),Object.assign({},d.prototype.props);var oe=function(e){/*#__PURE__*/return L(d,$({},e,{children:e.children}))};oe.propTypes=$({},d.propTypes&&d.propTypes),Object.assign({},p.prototype.props);var ae=function(e){/*#__PURE__*/return L(p,$({},e,{children:e.children}))};ae.propTypes=$({},p.propTypes&&p.propTypes),Object.assign({},f.prototype.props);var le=function(e){var n=$({},(ee(e),e));/*#__PURE__*/return L(f,$({},n,{children:n.children}))};le.propTypes=$({},f.propTypes&&f.propTypes);var ce=["caret"];Object.assign({startIcon:"",endIcon:"",caret:!0},g.prototype.props);var se=function(e){var n=ne(e,ce);/*#__PURE__*/return L(R,{children:/*#__PURE__*/j(g,$({caret:!n.startIcon&&!n.endIcon&&n.caret},n,{children:[n.startIcon&&/*#__PURE__*/L("i",{className:F(n.startIcon,"me-2")}),n.children,n.endIcon&&/*#__PURE__*/L("i",{className:F(n.endIcon,"ms-2")})]}))})};se.propTypes=$({startIcon:l.string,endIcon:l.string,caret:l.bool},g.propTypes&&g.propTypes),Object.assign({},h.prototype.props);var ue=function(e){var n=$({},(ee(e),e));/*#__PURE__*/return L(h,$({},n,{children:n.children}))};ue.propTypes=$({},h.propTypes&&h.propTypes);var de=["leftIcon","rightIcon","leftIconStyle","rightIconStyle"];Object.assign({},m.prototype.props);var pe=function(e){var n=e.leftIcon,t=void 0===n?"":n,r=e.rightIcon,i=void 0===r?"":r,o=e.leftIconStyle,a=void 0===o?"text-secondary":o,l=e.rightIconStyle,c=void 0===l?"text-secondary":l,s=ne(e,de);/*#__PURE__*/return j(m,$({},s,{className:"d-flex justify-content-between align-items-center",children:[/*#__PURE__*/j("span",{children:[t&&/*#__PURE__*/L("i",{className:t+" "+a+" me-2"}),s.children]}),i&&/*#__PURE__*/L("i",{className:i+" "+c})]}))};pe.propTypes=$({},m.propTypes&&m.propTypes);var fe=function(e){/*#__PURE__*/return j(v,{striped:!0,hover:!0,children:[/*#__PURE__*/L("thead",{children:/*#__PURE__*/L("tr",{children:e.thead.map(function(n,t){/*#__PURE__*/return L("th",{className:F("",{"text-right":e.thead.length-1===t}),children:n.text},t)})})}),/*#__PURE__*/L("tbody",{children:e.tbody.map(function(e,n){var t;/*#__PURE__*/return j("tr",{className:F((t={},t[e.className]=void 0!==e.className,t)),children:[e.data.map(function(e,n){var t;/*#__PURE__*/return L("td",{className:F((t={},t[e.className]=void 0!==e.className,t)),children:e.item},n)}),e.actions&&/*#__PURE__*/L("td",{className:"text-right",children:e.actions})]},n)})})]})};fe.propTypes={thead:l.arrayOf(l.shape({className:l.string,text:l.string.isRequired})).isRequired,tbody:l.arrayOf(l.shape({className:l.string,data:l.arrayOf(l.shape({className:l.string,item:l.oneOfType([l.string,l.number,l.node]).isRequired})).isRequired,actions:l.node})).isRequired};var ge=function(r){var i,o,a,l,c=r.onFilter,s=void 0===c?function(){}:c,u=r.onSearch,d=void 0===u?function(){}:u,p=r.filters,f=void 0===p?[]:p,g=e.useState(""),h=g[1],m=(a=(o=n(i=g[0]))[0],l=o[1],t(function(){var e=setTimeout(function(){l(i)},500);return function(){clearTimeout(e)}},[i,500]),a);return e.useEffect(function(){d({value:{clientSearch:m}})},[m]),/*#__PURE__*/j(y,{children:[/*#__PURE__*/L(b,{md:"3",children:/*#__PURE__*/L(K,{className:"react-select default m-0 w-100",classNamePrefix:"react-select",name:"singleSelect",onChange:function(e){s(e)},defaultValue:f.find(function(e){return e.default}),options:f,placeholder:"Select filter"})}),/*#__PURE__*/L(b,{md:"6",children:/*#__PURE__*/L(T,{children:/*#__PURE__*/L(N,{onChange:function(e){return h(e.currentTarget.value.toString())},placeholder:"Search item"})})})]})},he="...",me=function(e,n){return Array.from({length:n-e+1},function(n,t){return t+e})},ve=function(e){var n=e.onPageChange,t=void 0===n?function(){}:n,i=e.totalCount,o=e.siblingCount,a=e.currentPage,l=void 0===a?1:a,c=e.pageSize,s=function(e){var n=e.totalCount,t=e.pageSize,i=e.siblingCount,o=void 0===i?1:i,a=e.currentPage;return r(function(){var e=Math.ceil(n/t);if(o+5>=e)return me(1,e);var r=Math.max(a-o,1),i=Math.min(a+o,e),l=r>2,c=i<e-2,s=1,u=e;if(!l&&c){var d=me(1,3+2*o);return[].concat(d,[he,e])}if(l&&!c){var p=me(e-(3+2*o)+1,e);return[s,he].concat(p)}if(l&&c){var f=me(r,i);return[s,he].concat(f,[he,u])}},[n,t,o,a])}({currentPage:l,totalCount:void 0===i?0:i,siblingCount:void 0===o?1:o,pageSize:void 0===c?10:c});if(0===l||s.length<2)return null;var u=s[s.length-1];/*#__PURE__*/return L(R,{children:/*#__PURE__*/L("nav",{"aria-label":"Page navigation",children:/*#__PURE__*/j("ul",{className:"pagination",children:[/*#__PURE__*/L("li",{className:"page-item",children:/*#__PURE__*/j("button",{onClick:function(){t&&t(l-1)},className:"page-link","aria-label":"Next",children:[/*#__PURE__*/L("span",{"aria-hidden":"true",children:"«"}),/*#__PURE__*/L("span",{className:"sr-only",children:"Previous"})]})},"first-button"),s.map(function(e,n){return e===he?/*#__PURE__*/L("li",{className:"pagination-item dots",children:"…"},he+n):/*#__PURE__*/L("li",{className:"page-item "+(l===e&&" active"),children:/*#__PURE__*/L("button",{className:"page-link",onClick:function(){return t(e)},children:e})},e)}),/*#__PURE__*/L("li",{className:"page-item",children:/*#__PURE__*/j("button",{disabled:l===u,className:"page-link",onClick:function(){t&&t(l+1)},"aria-label":"Next",children:[/*#__PURE__*/L("span",{"aria-hidden":"true",children:"»"}),/*#__PURE__*/L("span",{className:"sr-only",children:"Next"})]})},"next-button")]})})})};function ye(n){var t=n.renderRowSubComponent,r=n.className,i=void 0===r?"-highlight -striped ":r,o=n.handleSearch,a=void 0===o?function(){}:o,l=n.handleFilter,c=void 0===l?function(){}:l,s=n.handlePagination,u=void 0===s?function(){}:s,d=n.filters,p=void 0===d?[]:d,f=n.pagination,g=void 0===f?{currentPage:1,hasNextPage:!0,hasPrevPage:!1,nextPage:2,prevPage:null,size:10,totalPages:2,totalResults:17}:f,h=D({columns:n.columns,data:n.data,initialState:{pageSize:10,pageIndex:0}},z,A,M,B,U),m=h.getTableProps,v=h.getTableBodyProps,y=h.headerGroups,b=h.page,T=h.prepareRow,N=h.visibleColumns;/*#__PURE__*/return L(R,{children:/*#__PURE__*/j("div",{className:"ReactTable "+i,children:[/*#__PURE__*/L("div",{className:"pagination-top",children:/*#__PURE__*/L(ge,{filters:p,onFilter:function(e){return c(e)},onSearch:function(e){return a(e)}})}),/*#__PURE__*/j("table",$({},m(),{className:"rt-table",children:[/*#__PURE__*/L("thead",{className:"rt-thead -header",children:y.map(function(e){/*#__PURE__*/return L("tr",$({},e.getHeaderGroupProps(),{className:"rt-tr",children:e.headers.map(function(n,t){/*#__PURE__*/return j("th",$({},n.getHeaderProps(n.getSortByToggleProps()),{className:F("rt-th rt-resizable-header",{"-cursor-pointer":e.headers.length-1!==t,"-sort-asc":n.isSorted&&!n.isSortedDesc,"-sort-desc":n.isSorted&&n.isSortedDesc}),children:[/*#__PURE__*/j("div",{className:"rt-resizable-header-content",children:[n.render("Header"),/*#__PURE__*/L("div",$({},n.getResizerProps(),{className:F("col-resizer",{" active":n.isResizing})}))]}),/*#__PURE__*/L("div",{children:e.headers.length-1===t?null:n.canFilter?n.render("Filter"):null})]}))})}))})}),/*#__PURE__*/L("tbody",$({},v(),{className:"rt-tbody",children:b.map(function(n,r){var i;return T(n),/*#__PURE__*/j(e.Fragment,{children:[/*#__PURE__*/L("tr",$({},n.getRowProps(),{className:F("rt-tr",{" -odd":r%2==0},{" -even":r%2==1}),children:n.cells.map(function(e){/*#__PURE__*/return L("td",$({},e.getCellProps(),{className:"rt-td",children:e.render("Cell")}))})})),n.isExpanded?/*#__PURE__*/L("tr",{children:/*#__PURE__*/L("td",{colSpan:N.length,children:t&&t({row:n})})}):null]},null==(i=n.getRowProps())?void 0:i.key)})}))]})),/*#__PURE__*/L("div",{className:"pagination-bottom",children:/*#__PURE__*/L("div",{className:"-pagination",children:/*#__PURE__*/L("div",{className:"-center flex-nowrap",children:/*#__PURE__*/L(ve,{className:"pagination-bar",pagination:g,currentPage:g.currentPage,totalCount:g.totalResults,pageSize:g.size,onPageChange:function(e){u({page:e})}})})})})]})})}var be="inline-default",Te="block-default",Ne="atomic-entity",Se="image",Ce="divider",ke="link",we="mention",Pe="checklist",Ee="start";function Ie(e){var n=e.name,t=e.profileImageUrl,r=e._id,o=e.onSelect,a=void 0===o?function(){}:o,l=i(function(e){e.preventDefault(),a({name:n,profileImageUrl:t,_id:r})});/*#__PURE__*/return j("div",{className:"d-flex align-items-center",children:[/*#__PURE__*/L("div",{className:"avatar mb-1",children:/*#__PURE__*/L("img",{src:t||Q,alt:n})}),/*#__PURE__*/L("div",{onClick:l,className:"btn btn-link p-2 mb-1",children:n})]})}var xe=["suggestions"];function Oe(e){var n=e.suggestions,t=ne(e,xe),r=o(ze);/*#__PURE__*/return L(R,{children:n.length?/*#__PURE__*/L("div",{className:"mention-suggestions position-absolute mt-4 p-2 shadow-md",style:$({},r.computedPosForMentionSuggestions),children:n.map(function(e,n){/*#__PURE__*/return L(Ie,$({},e,t),e.name+n)})}):null})}function Fe(e,n,t){for(var r,i,o=n.getText();null!==(r=e.exec(o));)t(i=r.index,i+r[0].length)}var je=/\B@\w+/g,Le=/(http(s)?:\/\/.)?(www\.)?[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\+.~#?&//=]*)/g,Re=new q([{strategy:function(e,n,t){Fe(je,e,n)},component:function(e){var n=a(null),r=o(ze),l=r.editorRef,c=r.mentionSuggestions,s=r.updateComputedPosForMentionSuggestions,u=r.handleMentionSelect,d=i(function(){var e,t;return{left:(null==(e=l.current)||null==(t=e.editor)?void 0:t.getBoundingClientRect()).width-n.current.offsetLeft<240?n.current.offsetLeft-230:n.current.offsetLeft,top:n.current.offsetTop,display:"block"}},[]),p=i(function(){return{display:"none"}},[]);function f(){if(!e.entityKey)return null;var n=e.contentState.getEntity(e.entityKey);return $({},null==n?void 0:n.getData())}return t(function(){n.current&&s(d())},[]),/*#__PURE__*/j(R,{children:[f()?/*#__PURE__*/L("a",{href:"/admin/users/"+f()._id,className:"text-primary",children:f().name}):/*#__PURE__*/L("span",{ref:n,className:"",children:e.children}),/*#__PURE__*/L(Oe,{suggestions:c.filter(function(n){var t;return n.name.toLowerCase().includes(e.decoratedText.slice(1,null==e||null==(t=e.decoratedText)?void 0:t.length).toLowerCase())}),onSelect:function(n){var t=n.name,r=n.profileImageUrl,i=n._id,o="@"+t.split(" ").join("_");u(e.contentState,e.blockKey,{start:e.start,end:e.end},{mention:o+" ",profileImageUrl:r,_id:i,name:t}),s(p())}})]})}},{strategy:function(e,n,t){Fe(Le,e,n)},component:function(e){/*#__PURE__*/return L("a",{href:e.decoratedText,title:e.decoratedText,target:"_blank",rel:"noreferrer",children:e.children})}},{strategy:function(e,n,t){e.findEntityRanges(function(e){var n=e.getEntity();return null!==n&&t.getEntity(n).getType()===ke},n)},component:function(e){var n=e.contentState.getEntity(e.entityKey).getData();return n.href?/*#__PURE__*/L("a",{href:n.href,title:n.linkText,target:"_blank",rel:"noreferrer",children:n.linkText||n.href}):null}}]),De=["children"],ze=/*#__PURE__*/e.createContext(),Ae=function(e){var r=e.children,i=ne(e,De),o=function(e){var r,i,o=a(null),l=n(G.createEmpty(Re)),c=l[0],s=l[1],u=n(!1),d=u[0],p=u[1],f=n({display:"none"}),g=f[0],h=f[1];t(function(){var n;try{"string"==typeof e.value&&(n=JSON.parse(e.value)),"object"==typeof e.value&&(n=e.value)}catch(n){if(console.log(n),"string"==typeof e.value)return y(G.createWithContent(H.createFromText(e.value)))}return y(e.value||n?G.set(c,{currentContent:Y(n),directionMap:G.createWithContent(Y(n)).getDirectionMap()}):G.createEmpty(Re))},[e.value]);var m=a(null),v=function(e,n){var t=c.getCurrentContent().createEntity(e,"IMMUTABLE",$({},n)),r=t.getLastCreatedEntityKey(),i=G.set(c,{currentContent:t},"create-entity");y(W.insertAtomicBlock(i,r," "))},y=function(n){var t=n.getCurrentContent();s(n),e.onDataStructureChange(JSON.stringify(J(t)))},b=function(n){try{if(!e.handleUpload)return Promise.resolve(console.log("Uploader function not specified"));var t=n.every(function(e){return"image"===e.type.split("/")[0]});return Promise.resolve(t?function(t,r){try{var i=Promise.resolve(Promise.all(n.map(function(n){return e.handleUpload(n)}))).then(function(e){console.log(e),e.every(function(e){return e})||console.log("one or mutiple files don't have storage info"),e.map(function(e){return v(Se,{storageInfo:e})})})}catch(e){return r(e)}return i&&i.then?i.then(void 0,r):i}(0,function(e){return console.log(e)}):console.log("All files has to be images"))}catch(e){return Promise.reject(e)}},T=function(e){e.preventDefault(),b(Array.from(e.target.files))},N=((r={})[Se]=function(){return m.current.click()},r[ke]=function(){return y(function(e){var n=window.prompt("Paste the link bellow:");if(n){var t=window.prompt("Paste the link-text below:");if(t){var r=e.getCurrentContent();r.createEntity(ke,"MUTABLE",{href:n,linkText:t});var i=r.getLastCreatedEntityKey(),o=e.getSelection(),a=_.replaceText(r,o,t,null,i),l=o.set("anchorOffset",o.getAnchorOffset()+t.length),c=G.set(e,{currentContent:a},"create-entity"),s=G.forceSelection(c,l);return console.log(l.getAnchorOffset(),"editor selection anchor offset after link insert:",s.getSelection().getAnchorOffset()),s}}}(c))},r[Ce]=function(){return v(Ce,{})},r[we]=function(){},r[Pe]=function(){v(Pe,{})},r),S=((i={})[be]=function(e){return y(V.toggleInlineStyle(c,e))},i[Te]=function(e){return y(V.toggleBlockType(c,e))},i[Ne]=function(e){N[e]()},i);return{editorRef:o,editorState:c,computedPosForMentionSuggestions:g,focusedForEditing:d,getFileInputProps:function(){return{ref:m,onChange:T}},generateLink:function(n){try{return Promise.resolve(e.linkGeneratorFn&&"function"==typeof e.linkGeneratorFn?e.linkGeneratorFn(n):null)}catch(e){return Promise.reject(e)}},handleDroppedFiles:function(e,n){return b(n)},handlePastedFiles:function(e){return b(e)},handleEditorStateChange:y,handleKeyCommand:function(e,n){var t=V.handleKeyCommand(n,e);return t?(y(t),"handled"):"not-handled"},handleToolClick:function(e,n){return n.preventDefault(),c.getSelection().getHasFocus()&&null!=e&&e.element?void S[e.element](e.style):null},forceFocusEditorEnd:function(e){var n;(null==e?void 0:e.preventDefault)&&e.preventDefault(),null==(n=o.current.editor)||n.focus(),y(G.moveFocusToEnd(c))},updateComputedPosForMentionSuggestions:function(e){return h(e)},handleMentionSelect:function(e,n,t,r){var i=Z.createEmpty(n),o=e.createEntity(we,"IMMUTABLE",$({},r)),a=o.getLastCreatedEntityKey();o=_.replaceText(e,i.merge({anchorOffset:t.start,focusOffset:t.end}),r.mention,c.getCurrentInlineStyle(),a),y(G.forceSelection(G.moveFocusToEnd(G.set(c,{currentContent:o})),o.getSelectionAfter()))},activateEditor:function(){return p(!0)},deactivateEditor:function(){return p(!1)}}}({handleUpload:i.handleUpload||function(){return Promise.resolve()},linkGeneratorFn:i.linkGeneratorFn,onDataStructureChange:i.onDataStructureChange||function(){},value:i.value||null}),l=$({},(ee(o),o));/*#__PURE__*/return L(ze.Provider,{value:$({},l,{mentionSuggestions:i.mentionSuggestions||[]}),children:r})};function Me(e){var n;return e.src||e.link?/*#__PURE__*/L("img",{src:e.src||e.link,alt:e.alt||(null==(n=e.storageInfo)?void 0:n.Key)||"...",className:"unselectable"}):null}function Be(){/*#__PURE__*/return L("hr",{})}function Ue(n){/*#__PURE__*/return L(e.Fragment,{})}var Ke=["editorRef","onResizeEnd","reference","currentSize"],_e=[0,5,10,15,20,25,30,35,40,45,50,55,60,65,70,75,80,85,90,95,100];function Ge(n){var t,r,i=n.editorRef,o=n.onResizeEnd,a=n.reference,l=void 0===a?"left":a,c=n.currentSize,s=void 0===c?10:c,u=ne(n,Ke),d=e.useState(!1),p=d[0],f=d[1],g=e.useState(s),h=g[0],m=g[1],v=null==(t=i.current)||null==(r=t.editor)?void 0:r.getBoundingClientRect(),y=e.useCallback(function(e){e.preventDefault();var n=function(e){var n=[].concat(_e);f(!0);var t="center"===l?v.width/2:v.width,r=parseInt(Math.abs(e.clientX-("center"===l?v.left+v.width/2:"end"===l?v.left+v.width:v.left))),i=parseInt(r/t*100);n.sort(function(e,n){return Math.abs(i-e)-Math.abs(i-n)});var a=n[0];m(a),o&&o({partition:a});var c=u.block.getEntityAt(0);u.contentState.mergeEntityData(c,{size:a})};document.addEventListener("mousemove",n,!1),document.addEventListener("mouseup",function e(){f(!1),document.removeEventListener("mousemove",n,!1),document.removeEventListener("mouseup",e,!1)},!1)},[o]);/*#__PURE__*/return j(R,{children:[/*#__PURE__*/L("div",{className:"d-inline-block p-2 unselectable",style:{cursor:"col-resize"},onMouseDown:y,children:/*#__PURE__*/L("div",{className:"bg-primary rounded resize-bar"})}),p&&/*#__PURE__*/L("div",{className:"resize-guides-container position-absolute ",children:_e.map(function(e){return parseInt(window.getComputedStyle(document.querySelector(".draft-editor-container"),null).getPropertyValue("padding-left")),{percentage:e,pixels:Math.ceil(v.width*e/100)}}).map(function(e){/*#__PURE__*/return L("div",{className:F("resize-guide position-absolute rounded",{"bg-info":"start"===l&&e.percentage===h||"end"===l&&100-e.percentage===h}),style:{left:e.pixels}},e.pixels)})})]})}var qe=["editorRef","onAlignmentChange"],He=[{label:"Align left",style:Ee,icon:"fa-solid fa-align-left"},{label:"Align center",style:"center",icon:"fa-solid fa-align-justify"},{label:"Align right",style:"end",icon:"fa-solid fa-align-right"}];function Ye(e){var n=e.onAlignmentChange,t=ne(e,qe),r=i(function(e){var r=e.alignment;n&&n({alignment:r});var i=t.block.getEntityAt(0);t.contentState.mergeEntityData(i,{alignment:r})},[n]);/*#__PURE__*/return L("div",{className:"d-inline-block shadow-md rounded mb-1",children:He.map(function(e){/*#__PURE__*/return L(c,{title:null==e?void 0:e.label,type:"button",className:F("btn btn-icon m-0 text-muted",{}),onClick:function(n){return r({alignment:null==e?void 0:e.style})},children:e.icon?/*#__PURE__*/L("i",{className:e.icon}):null==e?void 0:e.label},null==e?void 0:e.style)})})}var Je=["children"];function Ve(n){var t=n.children,r=ne(n,Je),i=e.useState(!1),o=i[0],a=i[1],l=e.useState(r.size||30),c=l[0],s=l[1],u=e.useState(r.alignment||Ee),d=u[0],p=u[1],f=function(){return{"justify-content-start":"start"===d,"justify-content-center":"center"===d,"justify-content-end":"end"===d}};/*#__PURE__*/return j(R,{children:[o&&d&&/*#__PURE__*/L("div",{className:F("d-flex",f()),children:/*#__PURE__*/L(Ye,$({onAlignmentChange:function(e){return p(e.alignment)}},r))}),/*#__PURE__*/j("div",{className:F("d-flex align-items-center position-relative",f()),children:[o&&"start"!==d&&/*#__PURE__*/L(Ge,$({},r,{reference:d,onResizeEnd:function(e){return s(e.partition)}})),/*#__PURE__*/L("div",{className:F("d-inline-block rounded resize-container unselectable",{"resize-focused":o,"w-10":10===c,"w-15":15===c,"w-20":20===c,"w-25":25===c,"w-30":30===c,"w-35":35===c,"w-40":40===c,"w-45":45===c,"w-50":50===c,"w-55":55===c,"w-60":60===c,"w-65":65===c,"w-70":70===c,"w-75":75===c,"w-80":80===c,"w-85":85===c,"w-90":90===c,"w-95":95===c,"w-100":100===c}),onClick:function(){return a(function(e){return!e})},children:t}),o&&"end"!==d&&/*#__PURE__*/L(Ge,$({},r,{reference:d,currentSize:c,onResizeEnd:function(e){return s(e.partition)}}))]})]})}var We=["type","data","editorControllers"];function Ze(e){var n=e.type,t=e.data,r=null,i=$({},t,e.editorControllers,ne(e,We));return n===Se&&(r=/*#__PURE__*/L(Ve,$({},i,{children:/*#__PURE__*/L(Me,$({},t))}))),n===Ce&&(r=/*#__PURE__*/L(Be,$({},t))),n===Pe&&(r=/*#__PURE__*/L(Ue,$({},t))),r}var Xe=["generateLink"],Qe=function(e){return"atomic"===e.getType()?{component:$e,editable:!1}:null},$e=function(n){var t,r,i,a,l=n.block.getEntityAt(0),c=l&&n.contentState.getEntity(l),s=null==c?void 0:c.getType(),u=o(ze),d=u.generateLink,p=ne(u,Xe),f=(t=$({generateLink:d},null==c?void 0:c.getData()),i=(r=e.useState(t.src))[0],a=r[1],e.useEffect(function(){return function(){try{Promise.resolve(function(){if(!t.src)return function(e,n){try{var r=function(){if(!t.generateLink||"function"!=typeof t.generateLink)throw Error("link gnerator function must be supplied");return Promise.resolve(t.generateLink(t.storageInfo)).then(function(e){if(!e)throw new Error("link generator function must return a valid link or else provide a valid  image source");a(e)})}()}catch(e){return n(e)}return r&&r.then?r.then(void 0,n):r}(0,function(e){a(Q),console.log(e)})}())}catch(e){return Promise.reject(e)}}(),function(){}},[t.generateLink]),{link:i});/*#__PURE__*/return L(Ze,$({type:s,data:$({},null==c?void 0:c.getData(),f),editorControllers:$({},p)},n))},en=["readOnly"];function nn(n){var t=n.readOnly,r=void 0!==t&&t,i=ne(n,en),o=e.useContext(ze);/*#__PURE__*/return L(R,{children:/*#__PURE__*/L(X,{ref:o.editorRef,blockRendererFn:Qe,placeholder:i.placeholder,onChange:o.handleEditorStateChange,editorState:o.editorState,spellCheck:!0,handleKeyCommand:o.handleKeyCommand,handleDroppedFiles:o.handleDroppedFiles,handlePastedFiles:o.handlePastedFiles,readOnly:r,onFocus:o.activateEditor,onBlur:o.deactivateEditor})})}var tn={INLINE_TYPES:[{label:"Underline",style:"UNDERLINE",icon:"fa-solid fa-underline",element:be},{label:"Bold",style:"BOLD",icon:"fa-solid fa-bold",element:be},{label:"Italic",style:"ITALIC",icon:"fa-solid fa-italic",element:be},{label:"Strike through",style:"STRIKETHROUGH",icon:"fa-solid fa-strikethrough",element:be}],BLOCK_TYPES:[{label:"Header",style:"header-three",icon:"fa-solid fa-heading",element:Te},{label:"UL",style:"unordered-list-item",icon:"fa-solid fa-list",element:Te},{label:"OL",style:"ordered-list-item",icon:"fa-solid fa-list-ol",element:Te},{label:"Blockquote",style:"blockquote",icon:"fa-solid fa-quote-left",element:Te},{label:"Code block",style:"code-block",icon:"fa-solid fa-code",element:Te}],ENTITY_TYPES:[{label:"Image",style:Se,icon:"fa-solid fa-images",element:Ne},{label:"Divider",style:Ce,icon:"fa-solid fa-minus",element:Ne}]};function rn(e){/*#__PURE__*/return L("span",{className:"draft-toolbar-button-separator",children:"|"})}var on=/*#__PURE__*/e.forwardRef(function(e,n){/*#__PURE__*/return L("input",$({},e,{ref:n,className:"d-none",type:"file",accept:e.accept||"image/*"}))});function an(n){var t=e.useContext(ze),r=t.editorState,i=t.handleToolClick;/*#__PURE__*/return j(R,{children:[/*#__PURE__*/L(on,$({},(0,t.getFileInputProps)())),Object.keys(tn).map(function(n,t){var o;/*#__PURE__*/return j(e.Fragment,{children:[null==(o=tn[n])?void 0:o.map(function(e){/*#__PURE__*/return L(c,{title:null==e?void 0:e.label,type:"button",className:"btn btn-icon text-muted m-0",onMouseDown:function(n){return i(e,n)},children:e.icon?/*#__PURE__*/L("i",{className:F(e.icon,{"text-primary":r.getCurrentInlineStyle().has(null==e?void 0:e.style)||(null==r?void 0:r.getCurrentContent().getBlockForKey(null==r?void 0:r.getSelection().getStartKey()).getType())===(null==e?void 0:e.style)})}):null==e?void 0:e.label},null==e?void 0:e.style)}),t<Object.keys(tn).length-1&&/*#__PURE__*/L(rn,{})]},n)})]})}function ln(n){var t=e.useContext(ze),r=t.forceFocusEditorEnd;/*#__PURE__*/return j("div",{className:F("draft-editor-container d-flex flex-column",{"editor-disabled":n.readOnly,"editor-active":t.focusedForEditing}),children:[!n.readOnly&&/*#__PURE__*/j("div",{children:[/*#__PURE__*/L(an,$({},n)),/*#__PURE__*/L("hr",{})]}),/*#__PURE__*/L(nn,$({},n)),/*#__PURE__*/L("div",{className:"flex-grow-1",onMouseDown:r})]})}function cn(e){/*#__PURE__*/return L(Ae,$({},e,{children:/*#__PURE__*/L(ln,$({},e))}))}cn.propTypes={value:l.string,linkGeneratorFn:l.func,handleUpload:l.func};var sn=["children","separated"];Object.assign({separated:!1},S.prototype.props);var un=function(e){var n=e.children,t=e.separated,r=ne(e,sn);/*#__PURE__*/return L(S,$({className:F(r.className,{"pagination-separated":t})},r,{children:n}))};un.propTypes=$({separated:l.bool},S.propTypes&&S.propTypes);var dn=["children"];Object.assign({},C.prototype.props);var pn=function(e){var n=e.children,t=ne(e,dn);/*#__PURE__*/return L(C,$({},t,{children:n}))};pn.propTypes=$({},C.propTypes&&C.propTypes);var fn=["children","link"];Object.assign({},k.prototype.props);var gn=function(e){var n=e.children,t=e.link,r=ne(e,fn);return t?/*#__PURE__*/L("span",{className:"page-link",children:n}):/*#__PURE__*/L(k,$({},r,{children:n}))};gn.propTypes=$({},k.propTypes&&k.propTypes);var hn=["children"];Object.assign({},mn.prototype.props);var mn=function(e){var n=e.children,t=ne(e,hn);/*#__PURE__*/return L(w,$({},t,{children:n}))};mn.propTypes=$({},w.propTypes&&w.propTypes);var vn=["children"];Object.assign({},P.prototype.props);var yn=function(e){var n=e.children,t=ne(e,vn);/*#__PURE__*/return L(P,$({},t,{children:n}))};yn.propTypes=$({},P.propTypes&&P.propTypes);var bn=["children"];Object.assign({},E.prototype.props);var Tn=function(e){var n=e.children,t=ne(e,bn);/*#__PURE__*/return L(E,$({},t,{children:n}))};Tn.propTypes=$({},E.propTypes&&E.propTypes);var Nn=["children"];Object.assign({},I.prototype.props);var Sn=function(e){var n=e.children,t=ne(e,Nn);/*#__PURE__*/return L(I,$({},t,{children:n}))};Sn.propTypes=$({},I.propTypes&&I.propTypes);var Cn=["children"];Object.assign({},x.prototype.props);var kn=function(e){var n=e.children,t=ne(e,Cn);/*#__PURE__*/return L(x,$({},t,{children:n}))};kn.propTypes=$({},x.propTypes&&x.propTypes);var wn=["children"];Object.assign({},O.prototype.props);var Pn=function(e){var n=e.children,t=ne(e,wn);/*#__PURE__*/return L(O,$({},t,{children:n}))};Pn.propTypes=$({},O.propTypes&&O.propTypes);export{ye as AdvancedTable,te as Button,re as Card,ie as CardBody,oe as CardFooter,ae as CardHeader,le as Dropdown,pe as DropdownItem,ue as DropdownMenu,se as DropdownToggle,mn as ListBase,yn as ListGroupItem,Tn as ListGroupItemHeading,Sn as ListGroupItemText,un as Pagination,pn as PaginationItem,gn as PaginationLink,fe as SimpleTable,kn as TabContent,Pn as TabPane,cn as TextEditor};
//# sourceMappingURL=ims-ui-kit.module.js.map
